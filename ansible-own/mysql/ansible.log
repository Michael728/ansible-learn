2019-03-10 10:16:13,447 p=16133 u=michael |  playbook: site.yml
2019-03-10 10:16:13,447 p=16133 u=michael |    play #1 (mysql_master): mysql_master	TAGS: []
    pattern: ['mysql_master']
    hosts (1):
      192.168.3.43
2019-03-10 10:16:23,734 p=16190 u=michael |  playbook: site.yml
2019-03-10 10:16:23,734 p=16190 u=michael |    play #1 (mysql_master): mysql_master	TAGS: []
2019-03-10 10:16:23,736 p=16190 u=michael |      tasks:
      mysql_master : Create the hosts file for all machines	TAGS: []

2019-03-10 10:16:30,817 p=16219 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:16:30,831 p=16219 u=michael |  TASK [Gathering Facts] **********************************************************************************
2019-03-10 10:16:30,874 p=16219 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"}
2019-03-10 10:16:30,876 p=16219 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:16:30,876 p=16219 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:16:30,876 p=16219 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:16:51,952 p=16262 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:16:51,952 p=16262 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:16:51,960 p=16262 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:16:51,960 p=16262 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:16:51,962 p=16262 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:16:52,174 p=16262 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 10:16:52,174 p=16262 u=michael |  1 plays in site.yml
2019-03-10 10:16:52,199 p=16262 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:16:52,210 p=16262 u=michael |  TASK [Gathering Facts] **********************************************************************************
2019-03-10 10:16:52,210 p=16262 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.yml:2
2019-03-10 10:16:52,248 p=16262 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"
}
2019-03-10 10:16:52,250 p=16262 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:16:52,250 p=16262 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:16:52,250 p=16262 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:19:13,067 p=16386 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:19:13,068 p=16386 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:19:13,076 p=16386 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:19:13,076 p=16386 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:19:13,078 p=16386 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:19:13,291 p=16386 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 10:19:13,291 p=16386 u=michael |  1 plays in site.yml
2019-03-10 10:19:13,317 p=16386 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:19:13,327 p=16386 u=michael |  TASK [Gathering Facts] **********************************************************************************
2019-03-10 10:19:13,327 p=16386 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.yml:2
2019-03-10 10:19:13,363 p=16386 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"
}
2019-03-10 10:19:13,365 p=16386 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:19:13,365 p=16386 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:19:13,365 p=16386 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:21:50,145 p=16499 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:21:50,146 p=16499 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:21:50,154 p=16499 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:21:50,155 p=16499 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:21:50,157 p=16499 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:21:50,368 p=16499 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 10:21:50,368 p=16499 u=michael |  1 plays in site.yml
2019-03-10 10:21:50,392 p=16499 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:21:50,402 p=16499 u=michael |  TASK [Gathering Facts] **********************************************************************************
2019-03-10 10:21:50,403 p=16499 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.yml:2
2019-03-10 10:21:50,438 p=16499 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"
}
2019-03-10 10:21:50,440 p=16499 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:21:50,440 p=16499 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:21:50,440 p=16499 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:23:35,639 p=16593 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:23:35,639 p=16593 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:23:35,647 p=16593 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:23:35,647 p=16593 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:23:35,649 p=16593 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:23:35,675 p=16593 u=michael |  ERROR! The tasks/main.yml file for role 'mysql_master' must contain a list of tasks

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 3, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

# This Playbook runs all the common plays in the deployment
tasks:
^ here

2019-03-10 10:23:49,117 p=16626 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:23:49,117 p=16626 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:23:49,126 p=16626 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:23:49,127 p=16626 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:23:49,129 p=16626 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:23:49,153 p=16626 u=michael |  ERROR! The tasks/main.yml file for role 'mysql_master' must contain a list of tasks

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 3, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

# This Playbook runs all the common plays in the deployment
tasks:
^ here

2019-03-10 10:24:37,758 p=16691 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:24:37,758 p=16691 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:24:37,767 p=16691 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:24:37,767 p=16691 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:24:37,769 p=16691 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:24:37,980 p=16691 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 10:24:37,980 p=16691 u=michael |  1 plays in site.yml
2019-03-10 10:24:38,005 p=16691 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:24:38,016 p=16691 u=michael |  TASK [Gathering Facts] **********************************************************************************
2019-03-10 10:24:38,016 p=16691 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.yml:2
2019-03-10 10:24:38,053 p=16691 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"
}
2019-03-10 10:24:38,055 p=16691 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:24:38,055 p=16691 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:24:38,056 p=16691 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:25:13,609 p=16739 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:25:13,609 p=16739 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:25:13,617 p=16739 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:25:13,617 p=16739 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:25:13,619 p=16739 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:25:13,830 p=16739 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 10:25:13,830 p=16739 u=michael |  1 plays in site.yml
2019-03-10 10:25:13,855 p=16739 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:25:13,865 p=16739 u=michael |  TASK [Gathering Facts] **********************************************************************************
2019-03-10 10:25:13,865 p=16739 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.yml:2
2019-03-10 10:25:13,900 p=16739 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"
}
2019-03-10 10:25:13,902 p=16739 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:25:13,902 p=16739 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:25:13,902 p=16739 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:26:34,039 p=16808 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 10:26:34,039 p=16808 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 10:26:34,048 p=16808 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 10:26:34,048 p=16808 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 10:26:34,050 p=16808 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 10:26:34,261 p=16808 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 10:26:34,262 p=16808 u=michael |  1 plays in site.yml
2019-03-10 10:26:34,287 p=16808 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:26:34,289 p=16808 u=michael |  META: ran handlers
2019-03-10 10:26:34,298 p=16808 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 10:26:34,298 p=16808 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 10:26:34,337 p=16808 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"
}
2019-03-10 10:26:34,338 p=16808 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:26:34,339 p=16808 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:26:34,339 p=16808 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:26:38,609 p=16832 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:26:38,619 p=16832 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 10:26:38,658 p=16832 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "to use the 'ssh' connection type with passwords, you must install the sshpass program"}
2019-03-10 10:26:38,660 p=16832 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:26:38,660 p=16832 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:26:38,660 p=16832 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 10:29:32,234 p=18019 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:29:32,244 p=18019 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 10:29:45,614 p=18019 u=michael |  changed: [192.168.3.43]
2019-03-10 10:29:45,616 p=18019 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:29:45,616 p=18019 u=michael |  192.168.3.43               : ok=1    changed=1    unreachable=0    failed=0   
2019-03-10 10:36:36,150 p=18280 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:36:36,160 p=18280 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 10:36:40,174 p=18280 u=michael |  changed: [192.168.3.43]
2019-03-10 10:36:40,183 p=18280 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 10:36:40,207 p=18280 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'port' is undefined\n\nThe error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 6, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Debug vars\n  ^ here\n"}
2019-03-10 10:36:40,209 p=18280 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:36:40,209 p=18280 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:36:40,209 p=18280 u=michael |  192.168.3.43               : ok=1    changed=1    unreachable=0    failed=1   
2019-03-10 10:37:41,391 p=18355 u=michael |  ERROR! vars file ./groups_vars/mysql_servers.yml was not found on the Ansible Controller.
If you are using a module and expect the file to exist on the remote, see the remote_src option
2019-03-10 10:38:03,307 p=18395 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 10:38:03,307 p=18395 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:38:03,318 p=18395 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 10:38:04,954 p=18395 u=michael |  changed: [192.168.3.43]
2019-03-10 10:38:04,962 p=18395 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 10:38:05,000 p=18395 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "Invalid options for debug: message"}
2019-03-10 10:38:05,001 p=18395 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 10:38:05,002 p=18395 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:38:05,002 p=18395 u=michael |  192.168.3.43               : ok=1    changed=1    unreachable=0    failed=1   
2019-03-10 10:38:33,441 p=18453 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 10:38:33,442 p=18453 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 10:38:33,452 p=18453 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 10:38:34,445 p=18453 u=michael |  changed: [192.168.3.43]
2019-03-10 10:38:34,453 p=18453 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 10:38:34,490 p=18453 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 10:38:34,492 p=18453 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 10:38:34,492 p=18453 u=michael |  192.168.3.43               : ok=2    changed=1    unreachable=0    failed=0   
2019-03-10 11:11:02,077 p=19445 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:11:02,077 p=19445 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:11:02,088 p=19445 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:11:03,444 p=19445 u=michael |  changed: [192.168.3.43]
2019-03-10 11:11:03,452 p=19445 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:11:03,491 p=19445 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:11:03,500 p=19445 u=michael |  TASK [mysql_master : copy mysql80-community-release-el7-2.noarch to /tmp/] ******************************
2019-03-10 11:11:06,362 p=19445 u=michael |  changed: [192.168.3.43]
2019-03-10 11:11:06,365 p=19445 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:11:06,365 p=19445 u=michael |  192.168.3.43               : ok=3    changed=2    unreachable=0    failed=0   
2019-03-10 11:16:49,790 p=19751 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:16:49,791 p=19751 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:16:49,801 p=19751 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:16:59,278 p=19751 u=michael |  changed: [192.168.3.43]
2019-03-10 11:16:59,286 p=19751 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:16:59,323 p=19751 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:16:59,330 p=19751 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:17:03,337 p=19751 u=michael |  changed: [192.168.3.43]
2019-03-10 11:17:03,345 p=19751 u=michael |  TASK [mysql_master : copy mysql80-community-release-el7-2.noarch to /tmp/] ******************************
2019-03-10 11:17:10,208 p=19751 u=michael |  ok: [192.168.3.43]
2019-03-10 11:17:10,211 p=19751 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:17:10,211 p=19751 u=michael |  192.168.3.43               : ok=4    changed=2    unreachable=0    failed=0   
2019-03-10 11:18:40,743 p=19859 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:18:40,743 p=19859 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:18:40,755 p=19859 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:18:44,260 p=19859 u=michael |  changed: [192.168.3.43]
2019-03-10 11:18:44,267 p=19859 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:18:44,304 p=19859 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:18:44,311 p=19859 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:18:46,467 p=19859 u=michael |  ok: [192.168.3.43]
2019-03-10 11:18:46,475 p=19859 u=michael |  TASK [mysql_master : copy mysql80-community-release-el7-2.noarch to /tmp/] ******************************
2019-03-10 11:18:48,229 p=19859 u=michael |  ok: [192.168.3.43]
2019-03-10 11:18:48,232 p=19859 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:18:48,232 p=19859 u=michael |  192.168.3.43               : ok=4    changed=1    unreachable=0    failed=0   
2019-03-10 11:20:10,911 p=19959 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:20:10,912 p=19959 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:20:10,923 p=19959 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:20:19,972 p=19959 u=michael |  changed: [192.168.3.43]
2019-03-10 11:20:19,980 p=19959 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:20:20,017 p=19959 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:20:20,023 p=19959 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:20:35,692 p=19959 u=michael |  ok: [192.168.3.43]
2019-03-10 11:20:35,701 p=19959 u=michael |  TASK [mysql_master : copy mysql80-community-release-el7-2.noarch to /tmp/] ******************************
2019-03-10 11:20:57,032 p=19959 u=michael |  ok: [192.168.3.43]
2019-03-10 11:20:57,035 p=19959 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:20:57,035 p=19959 u=michael |  192.168.3.43               : ok=4    changed=1    unreachable=0    failed=0   
2019-03-10 11:26:13,670 p=20217 u=michael |  ERROR! Syntax Error while loading YAML.
  found unacceptable key (unhashable type: 'AnsibleMapping')

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 11, column 11, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  file:
   path: {{dirs}}
          ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2019-03-10 11:26:34,465 p=20257 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:26:34,465 p=20257 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:26:34,476 p=20257 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:26:42,068 p=20257 u=michael |  changed: [192.168.3.43]
2019-03-10 11:26:42,076 p=20257 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:26:42,114 p=20257 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:26:42,120 p=20257 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:26:43,843 p=20257 u=michael |  changed: [192.168.3.43]
2019-03-10 11:26:43,846 p=20257 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:26:43,846 p=20257 u=michael |  192.168.3.43               : ok=3    changed=2    unreachable=0    failed=0   
2019-03-10 11:29:08,193 p=20382 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:29:08,194 p=20382 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:29:08,205 p=20382 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:29:10,689 p=20382 u=michael |  changed: [192.168.3.43]
2019-03-10 11:29:10,696 p=20382 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:29:10,733 p=20382 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:29:10,739 p=20382 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:29:13,134 p=20382 u=michael |  changed: [192.168.3.43]
2019-03-10 11:29:13,137 p=20382 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:29:13,137 p=20382 u=michael |  192.168.3.43               : ok=3    changed=2    unreachable=0    failed=0   
2019-03-10 11:29:51,139 p=20450 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:29:51,140 p=20450 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:29:51,150 p=20450 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:29:52,529 p=20450 u=michael |  changed: [192.168.3.43]
2019-03-10 11:29:52,537 p=20450 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:29:52,576 p=20450 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:29:52,583 p=20450 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:29:53,895 p=20450 u=michael |  changed: [192.168.3.43]
2019-03-10 11:29:53,897 p=20450 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:29:53,898 p=20450 u=michael |  192.168.3.43               : ok=3    changed=2    unreachable=0    failed=0   
2019-03-10 11:32:23,144 p=20597 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:32:23,144 p=20597 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:32:23,155 p=20597 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:32:27,456 p=20597 u=michael |  skipping: [192.168.3.43]
2019-03-10 11:32:27,464 p=20597 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:32:27,501 p=20597 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:32:27,508 p=20597 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:32:29,610 p=20597 u=michael |  changed: [192.168.3.43]
2019-03-10 11:32:29,618 p=20597 u=michael |  TASK [mysql_master : copy mysql repo rpm to /tmp/mysql] *************************************************
2019-03-10 11:32:36,558 p=20597 u=michael |  changed: [192.168.3.43]
2019-03-10 11:32:36,567 p=20597 u=michael |  TASK [mysql_master : install mysql repo] ****************************************************************
2019-03-10 11:32:41,163 p=20597 u=michael |  fatal: [192.168.3.43]: FAILED! => {"ansible_facts": {"pkg_mgr": "yum"}, "changed": false, "msg": "No RPM file matching '/tmp/mysql/mysql80-community-release-el7-2.noarch.rpm' found on system", "rc": 127, "results": ["No RPM file matching '/tmp/mysql/mysql80-community-release-el7-2.noarch.rpm' found on system"]}
2019-03-10 11:32:41,165 p=20597 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 11:32:41,165 p=20597 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:32:41,166 p=20597 u=michael |  192.168.3.43               : ok=3    changed=2    unreachable=0    failed=1   
2019-03-10 11:33:16,054 p=20682 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:33:16,055 p=20682 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:33:16,066 p=20682 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:33:17,450 p=20682 u=michael |  changed: [192.168.3.43]
2019-03-10 11:33:17,458 p=20682 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:33:17,497 p=20682 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:33:17,504 p=20682 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:33:25,379 p=20682 u=michael |  changed: [192.168.3.43]
2019-03-10 11:33:25,386 p=20682 u=michael |  TASK [mysql_master : copy mysql repo rpm to /tmp/mysql] *************************************************
2019-03-10 11:33:48,033 p=20682 u=michael |  changed: [192.168.3.43]
2019-03-10 11:33:48,042 p=20682 u=michael |  TASK [mysql_master : install mysql repo] ****************************************************************
2019-03-10 11:34:33,615 p=20682 u=michael |  changed: [192.168.3.43]
2019-03-10 11:34:33,618 p=20682 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:34:33,618 p=20682 u=michael |  192.168.3.43               : ok=5    changed=4    unreachable=0    failed=0   
2019-03-10 11:39:00,076 p=20956 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:39:00,077 p=20956 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:39:00,088 p=20956 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:39:09,988 p=20956 u=michael |  changed: [192.168.3.43]
2019-03-10 11:39:09,996 p=20956 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:39:10,034 p=20956 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:39:10,040 p=20956 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:39:13,895 p=20956 u=michael |  ok: [192.168.3.43]
2019-03-10 11:39:13,903 p=20956 u=michael |  TASK [mysql_master : copy mysql repo rpm to /tmp/mysql] *************************************************
2019-03-10 11:39:29,967 p=20956 u=michael |  ok: [192.168.3.43]
2019-03-10 11:39:29,975 p=20956 u=michael |  TASK [mysql_master : install mysql repo] ****************************************************************
2019-03-10 11:40:02,575 p=20956 u=michael |  ok: [192.168.3.43]
2019-03-10 11:40:02,582 p=20956 u=michael |  TASK [mysql_master : install mysql57-community] *********************************************************
2019-03-10 11:40:29,558 p=20956 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Error: Package: mysql-community-server-5.7.25-1.el7.x86_64 (mysql57-community)\n           Requires: mysql-community-common(x86-64) = 5.7.25-1.el7\n           Available: mysql-community-common-5.7.9-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.9-1.el7\n           Available: mysql-community-common-5.7.10-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.10-1.el7\n           Available: mysql-community-common-5.7.11-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.11-1.el7\n           Available: mysql-community-common-5.7.12-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.12-1.el7\n           Available: mysql-community-common-5.7.13-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.13-1.el7\n           Available: mysql-community-common-5.7.14-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.14-1.el7\n           Available: mysql-community-common-5.7.15-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.15-1.el7\n           Available: mysql-community-common-5.7.16-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.16-1.el7\n           Available: mysql-community-common-5.7.17-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.17-1.el7\n           Available: mysql-community-common-5.7.18-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.18-1.el7\n           Available: mysql-community-common-5.7.19-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.19-1.el7\n           Available: mysql-community-common-5.7.20-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.20-1.el7\n           Available: mysql-community-common-5.7.21-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.21-1.el7\n           Available: mysql-community-common-5.7.22-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.22-1.el7\n           Available: mysql-community-common-5.7.23-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.23-1.el7\n           Available: mysql-community-common-5.7.24-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.24-1.el7\n           Available: mysql-community-common-5.7.25-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.25-1.el7\n           Available: mysql-community-common-8.0.11-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.11-1.el7\n           Available: mysql-community-common-8.0.12-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.12-1.el7\n           Available: mysql-community-common-8.0.13-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.13-1.el7\n           Available: mysql-community-common-8.0.14-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.14-1.el7\n           Installing: mysql-community-common-8.0.15-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.15-1.el7\n", "rc": 1, "results": ["Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:8.0.15-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 8.0.0 for package: mysql-community-client-8.0.15-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:8.0.15-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) >= 8.0.0 for package: mysql-community-libs-8.0.15-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:8.0.15-1.el7 will be installed\n--> Finished Dependency Resolution\n You could try using --skip-broken to work around the problem\n You could try running: rpm -Va --nofiles --nodigest\n"]}
2019-03-10 11:40:29,560 p=20956 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 11:40:29,560 p=20956 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:40:29,560 p=20956 u=michael |  192.168.3.43               : ok=5    changed=1    unreachable=0    failed=1   
2019-03-10 11:41:58,338 p=21130 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:41:58,338 p=21130 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 11:41:58,350 p=21130 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ********************************************
2019-03-10 11:42:03,989 p=21130 u=michael |  changed: [192.168.3.43]
2019-03-10 11:42:03,996 p=21130 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 11:42:04,033 p=21130 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:42:04,040 p=21130 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 11:42:05,457 p=21130 u=michael |  ok: [192.168.3.43]
2019-03-10 11:42:05,467 p=21130 u=michael |  TASK [mysql_master : copy mysql repo rpm to /tmp/mysql] *************************************************
2019-03-10 11:42:14,069 p=21130 u=michael |  ok: [192.168.3.43]
2019-03-10 11:42:14,077 p=21130 u=michael |  TASK [mysql_master : install mysql repo] ****************************************************************
2019-03-10 11:42:26,470 p=21130 u=michael |  ok: [192.168.3.43]
2019-03-10 11:42:26,479 p=21130 u=michael |  TASK [mysql_master : install mysql57-community] *********************************************************
2019-03-10 11:42:49,598 p=21130 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Error: Package: mysql-community-server-5.7.25-1.el7.x86_64 (mysql57-community)\n           Requires: mysql-community-common(x86-64) = 5.7.25-1.el7\n           Available: mysql-community-common-5.7.9-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.9-1.el7\n           Available: mysql-community-common-5.7.10-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.10-1.el7\n           Available: mysql-community-common-5.7.11-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.11-1.el7\n           Available: mysql-community-common-5.7.12-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.12-1.el7\n           Available: mysql-community-common-5.7.13-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.13-1.el7\n           Available: mysql-community-common-5.7.14-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.14-1.el7\n           Available: mysql-community-common-5.7.15-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.15-1.el7\n           Available: mysql-community-common-5.7.16-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.16-1.el7\n           Available: mysql-community-common-5.7.17-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.17-1.el7\n           Available: mysql-community-common-5.7.18-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.18-1.el7\n           Available: mysql-community-common-5.7.19-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.19-1.el7\n           Available: mysql-community-common-5.7.20-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.20-1.el7\n           Available: mysql-community-common-5.7.21-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.21-1.el7\n           Available: mysql-community-common-5.7.22-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.22-1.el7\n           Available: mysql-community-common-5.7.23-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.23-1.el7\n           Available: mysql-community-common-5.7.24-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.24-1.el7\n           Available: mysql-community-common-5.7.25-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.25-1.el7\n           Available: mysql-community-common-8.0.11-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.11-1.el7\n           Available: mysql-community-common-8.0.12-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.12-1.el7\n           Available: mysql-community-common-8.0.13-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.13-1.el7\n           Available: mysql-community-common-8.0.14-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.14-1.el7\n           Installing: mysql-community-common-8.0.15-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.15-1.el7\n", "rc": 1, "results": ["Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:8.0.15-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 8.0.0 for package: mysql-community-client-8.0.15-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:8.0.15-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) >= 8.0.0 for package: mysql-community-libs-8.0.15-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:8.0.15-1.el7 will be installed\n--> Finished Dependency Resolution\n You could try using --skip-broken to work around the problem\n You could try running: rpm -Va --nofiles --nodigest\n"]}
2019-03-10 11:42:49,600 p=21130 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 11:42:49,600 p=21130 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 11:42:49,600 p=21130 u=michael |  192.168.3.43               : ok=5    changed=1    unreachable=0    failed=1   
2019-03-10 11:46:10,995 p=21346 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:46:10,996 p=21346 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:46:11,007 p=21346 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ************************************************************************************************************************************************************************************************************
2019-03-10 11:46:20,362 p=21346 u=michael |  changed: [192.168.3.43]
2019-03-10 11:46:20,369 p=21346 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 11:46:20,408 p=21346 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:46:20,415 p=21346 u=michael |  TASK [mysql_master : create mysql tmp dir] ******************************************************************************************************************************************************************************************************************************
2019-03-10 11:46:21,279 p=21346 u=michael |  ok: [192.168.3.43]
2019-03-10 11:46:21,286 p=21346 u=michael |  TASK [mysql_master : copy mysql repo rpm to /tmp/mysql] *****************************************************************************************************************************************************************************************************************
2019-03-10 11:46:25,872 p=21346 u=michael |  ok: [192.168.3.43]
2019-03-10 11:46:25,880 p=21346 u=michael |  TASK [mysql_master : install mysql repo] ********************************************************************************************************************************************************************************************************************************
2019-03-10 11:46:39,694 p=21346 u=michael |  ok: [192.168.3.43]
2019-03-10 11:46:39,702 p=21346 u=michael |  TASK [mysql_master : install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 11:47:04,638 p=21346 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Error: Package: mysql-community-server-5.7.25-1.el7.x86_64 (mysql57-community)\n           Requires: mysql-community-common(x86-64) = 5.7.25-1.el7\n           Available: mysql-community-common-5.7.9-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.9-1.el7\n           Available: mysql-community-common-5.7.10-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.10-1.el7\n           Available: mysql-community-common-5.7.11-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.11-1.el7\n           Available: mysql-community-common-5.7.12-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.12-1.el7\n           Available: mysql-community-common-5.7.13-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.13-1.el7\n           Available: mysql-community-common-5.7.14-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.14-1.el7\n           Available: mysql-community-common-5.7.15-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.15-1.el7\n           Available: mysql-community-common-5.7.16-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.16-1.el7\n           Available: mysql-community-common-5.7.17-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.17-1.el7\n           Available: mysql-community-common-5.7.18-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.18-1.el7\n           Available: mysql-community-common-5.7.19-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.19-1.el7\n           Available: mysql-community-common-5.7.20-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.20-1.el7\n           Available: mysql-community-common-5.7.21-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.21-1.el7\n           Available: mysql-community-common-5.7.22-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.22-1.el7\n           Available: mysql-community-common-5.7.23-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.23-1.el7\n           Available: mysql-community-common-5.7.24-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.24-1.el7\n           Available: mysql-community-common-5.7.25-1.el7.x86_64 (mysql57-community)\n               mysql-community-common(x86-64) = 5.7.25-1.el7\n           Available: mysql-community-common-8.0.11-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.11-1.el7\n           Available: mysql-community-common-8.0.12-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.12-1.el7\n           Available: mysql-community-common-8.0.13-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.13-1.el7\n           Available: mysql-community-common-8.0.14-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.14-1.el7\n           Installing: mysql-community-common-8.0.15-1.el7.x86_64 (mysql80-community)\n               mysql-community-common(x86-64) = 8.0.15-1.el7\n", "rc": 1, "results": ["Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:8.0.15-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 8.0.0 for package: mysql-community-client-8.0.15-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:8.0.15-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) >= 8.0.0 for package: mysql-community-libs-8.0.15-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:8.0.15-1.el7 will be installed\n--> Finished Dependency Resolution\n You could try using --skip-broken to work around the problem\n You could try running: rpm -Va --nofiles --nodigest\n"]}
2019-03-10 11:47:04,640 p=21346 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 11:47:04,640 p=21346 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:47:04,641 p=21346 u=michael |  192.168.3.43               : ok=5    changed=1    unreachable=0    failed=1   
2019-03-10 11:51:39,510 p=21619 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:51:39,510 p=21619 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:51:39,521 p=21619 u=michael |  TASK [mysql_master : Create the hosts file for all machines] ************************************************************************************************************************************************************************************************************
2019-03-10 11:51:45,027 p=21619 u=michael |  changed: [192.168.3.43]
2019-03-10 11:51:45,035 p=21619 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 11:51:45,072 p=21619 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:51:45,079 p=21619 u=michael |  TASK [mysql_master : create mysql tmp dir] ******************************************************************************************************************************************************************************************************************************
2019-03-10 11:51:52,677 p=21619 u=michael |  ok: [192.168.3.43]
2019-03-10 11:51:52,685 p=21619 u=michael |  TASK [mysql_master : copy mysql repo rpm to /tmp/mysql] *****************************************************************************************************************************************************************************************************************
2019-03-10 11:52:04,067 p=21619 u=michael |  ok: [192.168.3.43]
2019-03-10 11:52:04,075 p=21619 u=michael |  TASK [mysql_master : install mysql repo] ********************************************************************************************************************************************************************************************************************************
2019-03-10 11:52:12,677 p=21619 u=michael |  ok: [192.168.3.43]
2019-03-10 11:52:12,685 p=21619 u=michael |  TASK [mysql_master : install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 11:53:55,509 p=21619 u=michael |  changed: [192.168.3.43]
2019-03-10 11:53:55,516 p=21619 u=michael |  TASK [mysql_master : debug install_mysql57] *****************************************************************************************************************************************************************************************************************************
2019-03-10 11:53:55,537 p=21619 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'stdout'\n\nThe error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 37, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: debug install_mysql57\n  ^ here\n"}
2019-03-10 11:53:55,539 p=21619 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 11:53:55,539 p=21619 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:53:55,539 p=21619 u=michael |  192.168.3.43               : ok=6    changed=2    unreachable=0    failed=1   
2019-03-10 11:54:36,172 p=21793 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:54:36,173 p=21793 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:54:36,183 p=21793 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 11:54:36,218 p=21793 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:54:36,225 p=21793 u=michael |  TASK [mysql_master : create mysql tmp dir] ******************************************************************************************************************************************************************************************************************************
2019-03-10 11:54:42,337 p=21793 u=michael |  ok: [192.168.3.43]
2019-03-10 11:54:42,345 p=21793 u=michael |  TASK [mysql_master : install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 11:54:50,808 p=21793 u=michael |  ok: [192.168.3.43]
2019-03-10 11:54:50,816 p=21793 u=michael |  TASK [mysql_master : debug install_mysql57] *****************************************************************************************************************************************************************************************************************************
2019-03-10 11:54:50,835 p=21793 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'stdout'\n\nThe error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 34, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: debug install_mysql57\n  ^ here\n"}
2019-03-10 11:54:50,837 p=21793 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 11:54:50,837 p=21793 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:54:50,837 p=21793 u=michael |  192.168.3.43               : ok=3    changed=0    unreachable=0    failed=1   
2019-03-10 11:57:06,238 p=21907 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:57:06,239 p=21907 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:57:06,249 p=21907 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 11:57:06,283 p=21907 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:57:06,289 p=21907 u=michael |  TASK [mysql_master : create mysql tmp dir] ******************************************************************************************************************************************************************************************************************************
2019-03-10 11:57:09,869 p=21907 u=michael |  ok: [192.168.3.43]
2019-03-10 11:57:09,877 p=21907 u=michael |  TASK [mysql_master : install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 11:57:17,353 p=21907 u=michael |  ok: [192.168.3.43]
2019-03-10 11:57:17,360 p=21907 u=michael |  TASK [mysql_master : debug install_mysql57] *****************************************************************************************************************************************************************************************************************************
2019-03-10 11:57:17,400 p=21907 u=michael |  ok: [192.168.3.43] => {
    "<class 'dict'>": "VARIABLE IS NOT DEFINED!"
}
2019-03-10 11:57:17,402 p=21907 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:57:17,402 p=21907 u=michael |  192.168.3.43               : ok=4    changed=0    unreachable=0    failed=0   
2019-03-10 11:58:16,211 p=21993 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 11:58:16,212 p=21993 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:58:16,222 p=21993 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 11:58:16,257 p=21993 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 11:58:16,263 p=21993 u=michael |  TASK [mysql_master : create mysql tmp dir] ******************************************************************************************************************************************************************************************************************************
2019-03-10 11:58:18,981 p=21993 u=michael |  ok: [192.168.3.43]
2019-03-10 11:58:18,989 p=21993 u=michael |  TASK [mysql_master : install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 11:58:49,994 p=21993 u=michael |  ok: [192.168.3.43]
2019-03-10 11:58:50,002 p=21993 u=michael |  TASK [mysql_master : debug install_mysql57] *****************************************************************************************************************************************************************************************************************************
2019-03-10 11:58:50,041 p=21993 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "ansible_facts": {
            "pkg_mgr": "yum"
        },
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 11:58:50,043 p=21993 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 11:58:50,044 p=21993 u=michael |  192.168.3.43               : ok=4    changed=0    unreachable=0    failed=0   
2019-03-10 12:11:25,162 p=22536 u=michael |  ERROR! Syntax Error while loading YAML.
  did not find expected '-' indicator

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 60, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


handlers:
^ here

2019-03-10 12:14:39,115 p=22720 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 12:14:39,116 p=22720 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 12:14:39,127 p=22720 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 12:14:39,163 p=22720 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 12:14:39,169 p=22720 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 12:14:51,000 p=22720 u=michael |  ok: [192.168.3.43]
2019-03-10 12:14:51,008 p=22720 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 12:14:57,843 p=22720 u=michael |  ok: [192.168.3.43]
2019-03-10 12:14:57,853 p=22720 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 12:15:01,351 p=22720 u=michael |  ok: [192.168.3.43]
2019-03-10 12:15:01,358 p=22720 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 12:15:01,398 p=22720 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 12:15:01,405 p=22720 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 12:15:10,803 p=22720 u=michael |  ERROR! The requested handler 'restart mysqld' was not found in either the main handlers list nor in the listening handlers list
2019-03-10 12:16:45,562 p=22870 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 12:16:45,562 p=22870 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 12:16:45,574 p=22870 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 12:16:45,607 p=22870 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 12:16:45,612 p=22870 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 12:16:53,197 p=22870 u=michael |  ok: [192.168.3.43]
2019-03-10 12:16:53,205 p=22870 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 12:17:03,417 p=22870 u=michael |  ok: [192.168.3.43]
2019-03-10 12:17:03,425 p=22870 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 12:17:36,209 p=22870 u=michael |  ok: [192.168.3.43]
2019-03-10 12:17:36,216 p=22870 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 12:17:36,255 p=22870 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 12:17:36,263 p=22870 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 12:17:39,854 p=22870 u=michael |  ok: [192.168.3.43]
2019-03-10 12:17:39,862 p=22870 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 12:17:39,901 p=22870 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client]\"\n user=root\n password=Home123* > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 12:17:39,909 p=22870 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 12:18:05,760 p=22870 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Unable to start service mysqld: Job for mysqld.service failed because the control process exited with error code. See \"systemctl status mysqld.service\" and \"journalctl -xe\" for details.\n"}
2019-03-10 12:18:05,762 p=22870 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 12:18:05,762 p=22870 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 12:18:05,762 p=22870 u=michael |  192.168.3.43               : ok=7    changed=0    unreachable=0    failed=1   
2019-03-10 12:52:08,002 p=23932 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 12:52:08,002 p=23932 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 12:52:08,014 p=23932 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 12:52:08,051 p=23932 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 12:52:08,057 p=23932 u=michael |  TASK [mysql_master : create mysql tmp dir] **************************************************************
2019-03-10 12:52:10,746 p=23932 u=michael |  ok: [192.168.3.43]
2019-03-10 12:52:10,754 p=23932 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 12:52:36,078 p=23932 u=michael |  ok: [192.168.3.43]
2019-03-10 12:52:36,086 p=23932 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 12:52:42,066 p=23932 u=michael |  ok: [192.168.3.43]
2019-03-10 12:52:42,074 p=23932 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 12:52:42,113 p=23932 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 12:52:42,121 p=23932 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 12:52:48,088 p=23932 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Unable to start service mysqld: Job for mysqld.service failed because the control process exited with error code. See \"systemctl status mysqld.service\" and \"journalctl -xe\" for details.\n"}
2019-03-10 12:52:48,090 p=23932 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 12:52:48,090 p=23932 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 12:52:48,090 p=23932 u=michael |  192.168.3.43               : ok=5    changed=0    unreachable=0    failed=1   
2019-03-10 13:00:02,250 p=24221 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 13:00:02,250 p=24221 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 13:00:02,261 p=24221 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 13:00:02,296 p=24221 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 13:00:02,303 p=24221 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 13:00:07,623 p=24221 u=michael |  ok: [192.168.3.43]
2019-03-10 13:00:07,630 p=24221 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 13:00:12,424 p=24221 u=michael |  ok: [192.168.3.43]
2019-03-10 13:00:12,431 p=24221 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 13:00:12,472 p=24221 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 13:00:12,479 p=24221 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 13:00:41,916 p=24221 u=michael |  changed: [192.168.3.43]
2019-03-10 13:00:41,924 p=24221 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 13:00:43,406 p=24221 u=michael |  ok: [192.168.3.43]
2019-03-10 13:00:43,413 p=24221 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 13:00:43,454 p=24221 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client]\"\n user=root\n password=Home123* > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 13:00:43,457 p=24221 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 13:00:43,457 p=24221 u=michael |  192.168.3.43               : ok=7    changed=1    unreachable=0    failed=0   
2019-03-10 13:28:34,639 p=25076 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 13:28:34,640 p=25076 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 13:28:34,651 p=25076 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 13:28:34,685 p=25076 u=michael |  ok: [192.168.3.43] => {
    "msg": 8081
}
2019-03-10 13:28:34,691 p=25076 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 13:28:40,286 p=25076 u=michael |  ok: [192.168.3.43]
2019-03-10 13:28:40,294 p=25076 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 13:28:55,758 p=25076 u=michael |  changed: [192.168.3.43]
2019-03-10 13:28:55,765 p=25076 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 13:28:55,805 p=25076 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": true,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "Loaded plugins: fastestmirror, langpacks\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be erased\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                  Arch     Version           Repository            Size\n================================================================================\nRemoving:\n mysql-community-server   x86_64   5.7.25-1.el7      @mysql57-community   744 M\n\nTransaction Summary\n================================================================================\nRemove  1 Package\n\nInstalled size: 744 M\nDownloading packages:\nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Erasing    : mysql-community-server-5.7.25-1.el7.x86_64                   1/1 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   1/1 \n\nRemoved:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nComplete!\n"
        ]
    }
}
2019-03-10 13:28:55,812 p=25076 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 13:28:58,512 p=25076 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Could not find the requested service mysqld: host"}
2019-03-10 13:28:58,514 p=25076 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 13:28:58,514 p=25076 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 13:28:58,514 p=25076 u=michael |  192.168.3.43               : ok=4    changed=1    unreachable=0    failed=1   
2019-03-10 13:31:48,901 p=25224 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 13:31:48,901 p=25224 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 13:31:48,913 p=25224 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 13:31:48,952 p=25224 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 13:31:48,959 p=25224 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 13:31:58,638 p=25224 u=michael |  ok: [192.168.3.43]
2019-03-10 13:31:58,646 p=25224 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 13:32:05,343 p=25224 u=michael |  ok: [192.168.3.43]
2019-03-10 13:32:05,350 p=25224 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 13:32:05,392 p=25224 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25 is not installed"
        ]
    }
}
2019-03-10 13:32:05,400 p=25224 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 13:32:12,450 p=25224 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Could not find the requested service mysqld: host"}
2019-03-10 13:32:12,453 p=25224 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 13:32:12,453 p=25224 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 13:32:12,453 p=25224 u=michael |  192.168.3.43               : ok=4    changed=0    unreachable=0    failed=1   
2019-03-10 13:34:42,773 p=25368 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 13:34:42,774 p=25368 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 13:34:42,786 p=25368 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 13:34:42,825 p=25368 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 13:34:42,832 p=25368 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 13:34:54,655 p=25368 u=michael |  ok: [192.168.3.43]
2019-03-10 13:34:54,663 p=25368 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 13:35:10,238 p=25368 u=michael |  ok: [192.168.3.43]
2019-03-10 13:35:10,245 p=25368 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 13:35:10,286 p=25368 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25 is not installed"
        ]
    }
}
2019-03-10 13:35:10,293 p=25368 u=michael |  TASK [mysql_master : Delete previous data] **************************************************************
2019-03-10 13:35:18,547 p=25368 u=michael |  changed: [192.168.3.43]
2019-03-10 13:35:18,555 p=25368 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 13:35:36,484 p=25368 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Could not find the requested service mysqld: host"}
2019-03-10 13:35:36,487 p=25368 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 13:35:36,488 p=25368 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 13:35:36,488 p=25368 u=michael |  192.168.3.43               : ok=5    changed=1    unreachable=0    failed=1   
2019-03-10 13:45:11,749 p=25782 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 13:45:11,750 p=25782 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 13:45:11,761 p=25782 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 13:45:11,799 p=25782 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 13:45:11,806 p=25782 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 13:45:17,514 p=25782 u=michael |  ok: [192.168.3.43]
2019-03-10 13:45:17,522 p=25782 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 13:47:44,399 p=25782 u=michael |  changed: [192.168.3.43]
2019-03-10 13:47:44,407 p=25782 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 13:47:44,449 p=25782 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": true,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                   Arch      Version         Repository            Size\n================================================================================\nInstalling:\n mysql-community-server    x86_64    5.7.25-1.el7    mysql57-community    165 M\nInstalling for dependencies:\n mysql-community-client    x86_64    5.7.25-1.el7    mysql57-community     24 M\n mysql-community-common    x86_64    5.7.25-1.el7    mysql57-community    274 k\n mysql-community-libs      x86_64    5.7.25-1.el7    mysql57-community    2.2 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+3 Dependent packages)\n\nTotal download size: 192 M\nInstalled size: 863 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                              2.5 MB/s | 192 MB  01:17     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Installing : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Installing : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Installing : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nInstalled:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nDependency Installed:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n\nComplete!\n"
        ]
    }
}
2019-03-10 13:47:44,456 p=25782 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 13:48:44,162 p=25782 u=michael |  changed: [192.168.3.43]
2019-03-10 13:48:44,170 p=25782 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 13:53:37,112 p=25782 u=michael |   [ERROR]: User interrupted execution

2019-03-10 13:53:58,913 p=26153 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 13:53:58,913 p=26153 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 13:53:58,922 p=26153 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 13:53:58,922 p=26153 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 13:53:58,923 p=26153 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 13:53:58,946 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:53:59,147 p=26153 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 13:53:59,147 p=26153 u=michael |  1 plays in site.yml
2019-03-10 13:53:59,169 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:53:59,171 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:53:59,174 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:53:59,174 p=26153 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 13:53:59,175 p=26153 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 13:53:59,178 p=26153 u=michael |  META: ran handlers
2019-03-10 13:53:59,186 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:53:59,187 p=26153 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 13:53:59,187 p=26153 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 13:53:59,227 p=26153 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 13:53:59,233 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:53:59,234 p=26153 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 13:53:59,234 p=26153 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:26
2019-03-10 13:53:59,810 p=26153 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/system/setup.py
2019-03-10 13:54:19,425 p=26153 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/packaging/os/yum.py
2019-03-10 13:54:26,835 p=26153 u=michael |  ok: [192.168.3.43] => {
    "ansible_facts": {
        "pkg_mgr": "yum"
    },
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [],
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [],
            "exclude": [],
            "install_repoquery": true,
            "installroot": "/",
            "list": null,
            "name": [
                "https://repo.mysql.com//mysql80-community-release-el7-2.noarch.rpm"
            ],
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": null,
            "update_cache": false,
            "update_only": false,
            "use_backend": "auto",
            "validate_certs": true
        }
    },
    "msg": "",
    "rc": 0,
    "results": [
        "mysql80-community-release-el7-2.noarch providing /root/.ansible/tmp/ansible-tmp-1552197239.2700229-53561226001399/mysql80-community-release-el7-2.noarchfOoDVg.rpm is already installed"
    ]
}
2019-03-10 13:54:26,843 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:54:26,843 p=26153 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 13:54:26,843 p=26153 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:30
2019-03-10 13:54:27,141 p=26153 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/packaging/os/yum.py
2019-03-10 13:54:29,166 p=26153 u=michael |  ok: [192.168.3.43] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "autoremove": false,
            "bugfix": false,
            "conf_file": null,
            "disable_excludes": null,
            "disable_gpg_check": false,
            "disable_plugin": [],
            "disablerepo": [
                "mysql80-community"
            ],
            "download_only": false,
            "enable_plugin": [],
            "enablerepo": [
                "mysql57-community"
            ],
            "exclude": [],
            "install_repoquery": true,
            "installroot": "/",
            "list": null,
            "name": [
                "mysql-community-server-5.7.25"
            ],
            "releasever": null,
            "security": false,
            "skip_broken": false,
            "state": "present",
            "update_cache": false,
            "update_only": false,
            "use_backend": "auto",
            "validate_certs": true
        }
    },
    "msg": "",
    "rc": 0,
    "results": [
        "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
    ]
}
2019-03-10 13:54:29,172 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:54:29,172 p=26153 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 13:54:29,173 p=26153 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:38
2019-03-10 13:54:29,212 p=26153 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 13:54:29,219 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:54:29,220 p=26153 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 13:54:29,220 p=26153 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:42
2019-03-10 13:54:29,434 p=26153 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/system/setup.py
2019-03-10 13:54:33,047 p=26153 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/system/systemd.py
2019-03-10 13:54:39,203 p=26153 u=michael |  ok: [192.168.3.43] => {
    "changed": false,
    "enabled": true,
    "invocation": {
        "module_args": {
            "daemon_reload": false,
            "enabled": true,
            "force": null,
            "masked": null,
            "name": "mysqld",
            "no_block": false,
            "scope": null,
            "state": "started",
            "user": null
        }
    },
    "name": "mysqld",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Sun 2019-03-10 13:48:43 CST",
        "ActiveEnterTimestampMonotonic": "3510496576",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "basic.target syslog.target system.slice systemd-journald.socket network.target",
        "AllowIsolate": "no",
        "AmbientCapabilities": "0",
        "AssertResult": "yes",
        "AssertTimestamp": "Sun 2019-03-10 13:48:19 CST",
        "AssertTimestampMonotonic": "3485958572",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "18446744073709551615",
        "CPUAccounting": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "18446744073709551615",
        "CanIsolate": "no",
        "CanReload": "no",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "18446744073709551615",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Sun 2019-03-10 13:48:19 CST",
        "ConditionTimestampMonotonic": "3485958572",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/mysqld.service",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "Delegate": "no",
        "Description": "MySQL Server",
        "DevicePolicy": "auto",
        "Documentation": "man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html",
        "EnvironmentFile": "/etc/sysconfig/mysql (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "4920",
        "ExecMainStartTimestamp": "Sun 2019-03-10 13:48:43 CST",
        "ExecMainStartTimestampMonotonic": "3510496426",
        "ExecMainStatus": "0",
        "ExecStart": "{ path=/usr/sbin/mysqld ; argv[]=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:43 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4917 ; code=exited ; status=0 }",
        "ExecStartPre": "{ path=/usr/bin/mysqld_pre_systemd ; argv[]=/usr/bin/mysqld_pre_systemd ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:19 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4838 ; code=exited ; status=0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/mysqld.service",
        "Group": "mysql",
        "GuessMainPID": "yes",
        "IOScheduling": "0",
        "Id": "mysqld.service",
        "IgnoreOnIsolate": "no",
        "IgnoreOnSnapshot": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Sun 2019-03-10 13:48:19 CST",
        "InactiveExitTimestampMonotonic": "3485961520",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "0",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "18446744073709551615",
        "LimitCORE": "18446744073709551615",
        "LimitCPU": "18446744073709551615",
        "LimitDATA": "18446744073709551615",
        "LimitFSIZE": "18446744073709551615",
        "LimitLOCKS": "18446744073709551615",
        "LimitMEMLOCK": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitNICE": "0",
        "LimitNOFILE": "5000",
        "LimitNPROC": "31067",
        "LimitRSS": "18446744073709551615",
        "LimitRTPRIO": "0",
        "LimitRTTIME": "18446744073709551615",
        "LimitSIGPENDING": "31067",
        "LimitSTACK": "18446744073709551615",
        "LoadState": "loaded",
        "MainPID": "4920",
        "MemoryAccounting": "no",
        "MemoryCurrent": "18446744073709551615",
        "MemoryLimit": "18446744073709551615",
        "MountFlags": "0",
        "Names": "mysqld.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/var/run/mysqld/mysqld.pid",
        "PermissionsStartOnly": "yes",
        "PrivateDevices": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "ProtectHome": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "Requires": "basic.target",
        "Restart": "on-failure",
        "RestartUSec": "100ms",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitInterval": "10000000",
        "StartupBlockIOWeight": "18446744073709551615",
        "StartupCPUShares": "18446744073709551615",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "no",
        "TasksCurrent": "27",
        "TasksMax": "18446744073709551615",
        "TimeoutStartUSec": "0",
        "TimeoutStopUSec": "0",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "enabled",
        "User": "mysql",
        "WantedBy": "multi-user.target",
        "Wants": "system.slice",
        "WatchdogTimestamp": "Sun 2019-03-10 13:48:43 CST",
        "WatchdogTimestampMonotonic": "3510496503",
        "WatchdogUSec": "0"
    }
}
2019-03-10 13:54:39,210 p=26153 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 13:54:39,211 p=26153 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 13:54:39,211 p=26153 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:57
2019-03-10 13:54:40,205 p=26153 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/commands/command.py
2019-03-10 13:57:39,014 p=26153 u=michael |   [ERROR]: User interrupted execution

2019-03-10 13:58:23,586 p=26334 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 13:58:23,586 p=26334 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 13:58:23,594 p=26334 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 13:58:23,594 p=26334 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 13:58:23,813 p=26334 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 13:58:23,814 p=26334 u=michael |  1 plays in site.yml
2019-03-10 13:58:23,838 p=26334 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 13:58:23,839 p=26334 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 13:58:23,842 p=26334 u=michael |  META: ran handlers
2019-03-10 13:58:23,851 p=26334 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 13:58:23,851 p=26334 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 13:58:23,888 p=26334 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 13:58:23,895 p=26334 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 13:58:23,895 p=26334 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:26
2019-03-10 13:58:32,311 p=26334 u=michael |  ok: [192.168.3.43] => {"ansible_facts": {"pkg_mgr": "yum"}, "changed": false, "msg": "", "rc": 0, "results": ["mysql80-community-release-el7-2.noarch providing /root/.ansible/tmp/ansible-tmp-1552197503.928298-57836028586280/mysql80-community-release-el7-2.noarcht_J7rx.rpm is already installed"]}
2019-03-10 13:58:32,318 p=26334 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 13:58:32,318 p=26334 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:30
2019-03-10 13:58:35,160 p=26334 u=michael |  ok: [192.168.3.43] => {"changed": false, "msg": "", "rc": 0, "results": ["mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"]}
2019-03-10 13:58:35,167 p=26334 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 13:58:35,167 p=26334 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:38
2019-03-10 13:58:35,208 p=26334 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 13:58:35,216 p=26334 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 13:58:35,216 p=26334 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:42
2019-03-10 13:58:45,198 p=26334 u=michael |  ok: [192.168.3.43] => {"changed": false, "enabled": true, "name": "mysqld", "state": "started", "status": {"ActiveEnterTimestamp": "Sun 2019-03-10 13:48:43 CST", "ActiveEnterTimestampMonotonic": "3510496576", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "basic.target syslog.target system.slice systemd-journald.socket network.target", "AllowIsolate": "no", "AmbientCapabilities": "0", "AssertResult": "yes", "AssertTimestamp": "Sun 2019-03-10 13:48:19 CST", "AssertTimestampMonotonic": "3485958572", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "18446744073709551615", "CPUAccounting": "no", "CPUQuotaPerSecUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "18446744073709551615", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "18446744073709551615", "ConditionResult": "yes", "ConditionTimestamp": "Sun 2019-03-10 13:48:19 CST", "ConditionTimestampMonotonic": "3485958572", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/mysqld.service", "ControlPID": "0", "DefaultDependencies": "yes", "Delegate": "no", "Description": "MySQL Server", "DevicePolicy": "auto", "Documentation": "man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html", "EnvironmentFile": "/etc/sysconfig/mysql (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "4920", "ExecMainStartTimestamp": "Sun 2019-03-10 13:48:43 CST", "ExecMainStartTimestampMonotonic": "3510496426", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/mysqld ; argv[]=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:43 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4917 ; code=exited ; status=0 }", "ExecStartPre": "{ path=/usr/bin/mysqld_pre_systemd ; argv[]=/usr/bin/mysqld_pre_systemd ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:19 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4838 ; code=exited ; status=0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FragmentPath": "/usr/lib/systemd/system/mysqld.service", "Group": "mysql", "GuessMainPID": "yes", "IOScheduling": "0", "Id": "mysqld.service", "IgnoreOnIsolate": "no", "IgnoreOnSnapshot": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Sun 2019-03-10 13:48:19 CST", "InactiveExitTimestampMonotonic": "3485961520", "JobTimeoutAction": "none", "JobTimeoutUSec": "0", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "18446744073709551615", "LimitCORE": "18446744073709551615", "LimitCPU": "18446744073709551615", "LimitDATA": "18446744073709551615", "LimitFSIZE": "18446744073709551615", "LimitLOCKS": "18446744073709551615", "LimitMEMLOCK": "65536", "LimitMSGQUEUE": "819200", "LimitNICE": "0", "LimitNOFILE": "5000", "LimitNPROC": "31067", "LimitRSS": "18446744073709551615", "LimitRTPRIO": "0", "LimitRTTIME": "18446744073709551615", "LimitSIGPENDING": "31067", "LimitSTACK": "18446744073709551615", "LoadState": "loaded", "MainPID": "4920", "MemoryAccounting": "no", "MemoryCurrent": "18446744073709551615", "MemoryLimit": "18446744073709551615", "MountFlags": "0", "Names": "mysqld.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "PIDFile": "/var/run/mysqld/mysqld.pid", "PermissionsStartOnly": "yes", "PrivateDevices": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "ProtectHome": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "RemainAfterExit": "no", "Requires": "basic.target", "Restart": "on-failure", "RestartUSec": "100ms", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitInterval": "10000000", "StartupBlockIOWeight": "18446744073709551615", "StartupCPUShares": "18446744073709551615", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "no", "TasksCurrent": "27", "TasksMax": "18446744073709551615", "TimeoutStartUSec": "0", "TimeoutStopUSec": "0", "TimerSlackNSec": "50000", "Transient": "no", "Type": "forking", "UMask": "0022", "UnitFilePreset": "disabled", "UnitFileState": "enabled", "User": "mysql", "WantedBy": "multi-user.target", "Wants": "system.slice", "WatchdogTimestamp": "Sun 2019-03-10 13:48:43 CST", "WatchdogTimestampMonotonic": "3510496503", "WatchdogUSec": "0"}}
2019-03-10 13:58:45,206 p=26334 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 13:58:45,206 p=26334 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:57
2019-03-10 14:00:28,937 p=26334 u=michael |   [ERROR]: User interrupted execution

2019-03-10 14:00:30,758 p=26457 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 14:00:30,758 p=26457 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 14:00:30,767 p=26457 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 14:00:30,767 p=26457 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 14:00:30,983 p=26457 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 14:00:30,983 p=26457 u=michael |  1 plays in site.yml
2019-03-10 14:00:31,008 p=26457 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 14:00:31,009 p=26457 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 14:00:31,012 p=26457 u=michael |  META: ran handlers
2019-03-10 14:00:31,021 p=26457 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 14:00:31,021 p=26457 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 14:00:31,059 p=26457 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 14:00:31,066 p=26457 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 14:00:31,066 p=26457 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:26
2019-03-10 14:00:44,220 p=26457 u=michael |  ok: [192.168.3.43] => {"ansible_facts": {"pkg_mgr": "yum"}, "changed": false, "msg": "", "rc": 0, "results": ["mysql80-community-release-el7-2.noarch providing /root/.ansible/tmp/ansible-tmp-1552197631.1002922-104801476258288/mysql80-community-release-el7-2.noarchJ9Up1H.rpm is already installed"]}
2019-03-10 14:00:44,227 p=26457 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 14:00:44,227 p=26457 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:30
2019-03-10 14:00:46,412 p=26457 u=michael |  ok: [192.168.3.43] => {"changed": false, "msg": "", "rc": 0, "results": ["mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"]}
2019-03-10 14:00:46,419 p=26457 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 14:00:46,420 p=26457 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:38
2019-03-10 14:00:46,460 p=26457 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 14:00:46,467 p=26457 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 14:00:46,467 p=26457 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:42
2019-03-10 14:01:10,911 p=26457 u=michael |  ok: [192.168.3.43] => {"changed": false, "enabled": true, "name": "mysqld", "state": "started", "status": {"ActiveEnterTimestamp": "Sun 2019-03-10 13:48:43 CST", "ActiveEnterTimestampMonotonic": "3510496576", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "basic.target syslog.target system.slice systemd-journald.socket network.target", "AllowIsolate": "no", "AmbientCapabilities": "0", "AssertResult": "yes", "AssertTimestamp": "Sun 2019-03-10 13:48:19 CST", "AssertTimestampMonotonic": "3485958572", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "18446744073709551615", "CPUAccounting": "no", "CPUQuotaPerSecUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "18446744073709551615", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "18446744073709551615", "ConditionResult": "yes", "ConditionTimestamp": "Sun 2019-03-10 13:48:19 CST", "ConditionTimestampMonotonic": "3485958572", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/mysqld.service", "ControlPID": "0", "DefaultDependencies": "yes", "Delegate": "no", "Description": "MySQL Server", "DevicePolicy": "auto", "Documentation": "man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html", "EnvironmentFile": "/etc/sysconfig/mysql (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "4920", "ExecMainStartTimestamp": "Sun 2019-03-10 13:48:43 CST", "ExecMainStartTimestampMonotonic": "3510496426", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/mysqld ; argv[]=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:43 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4917 ; code=exited ; status=0 }", "ExecStartPre": "{ path=/usr/bin/mysqld_pre_systemd ; argv[]=/usr/bin/mysqld_pre_systemd ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:19 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4838 ; code=exited ; status=0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FragmentPath": "/usr/lib/systemd/system/mysqld.service", "Group": "mysql", "GuessMainPID": "yes", "IOScheduling": "0", "Id": "mysqld.service", "IgnoreOnIsolate": "no", "IgnoreOnSnapshot": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Sun 2019-03-10 13:48:19 CST", "InactiveExitTimestampMonotonic": "3485961520", "JobTimeoutAction": "none", "JobTimeoutUSec": "0", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "18446744073709551615", "LimitCORE": "18446744073709551615", "LimitCPU": "18446744073709551615", "LimitDATA": "18446744073709551615", "LimitFSIZE": "18446744073709551615", "LimitLOCKS": "18446744073709551615", "LimitMEMLOCK": "65536", "LimitMSGQUEUE": "819200", "LimitNICE": "0", "LimitNOFILE": "5000", "LimitNPROC": "31067", "LimitRSS": "18446744073709551615", "LimitRTPRIO": "0", "LimitRTTIME": "18446744073709551615", "LimitSIGPENDING": "31067", "LimitSTACK": "18446744073709551615", "LoadState": "loaded", "MainPID": "4920", "MemoryAccounting": "no", "MemoryCurrent": "18446744073709551615", "MemoryLimit": "18446744073709551615", "MountFlags": "0", "Names": "mysqld.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "PIDFile": "/var/run/mysqld/mysqld.pid", "PermissionsStartOnly": "yes", "PrivateDevices": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "ProtectHome": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "RemainAfterExit": "no", "Requires": "basic.target", "Restart": "on-failure", "RestartUSec": "100ms", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitInterval": "10000000", "StartupBlockIOWeight": "18446744073709551615", "StartupCPUShares": "18446744073709551615", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "no", "TasksCurrent": "27", "TasksMax": "18446744073709551615", "TimeoutStartUSec": "0", "TimeoutStopUSec": "0", "TimerSlackNSec": "50000", "Transient": "no", "Type": "forking", "UMask": "0022", "UnitFilePreset": "disabled", "UnitFileState": "enabled", "User": "mysql", "WantedBy": "multi-user.target", "Wants": "system.slice", "WatchdogTimestamp": "Sun 2019-03-10 13:48:43 CST", "WatchdogTimestampMonotonic": "3510496503", "WatchdogUSec": "0"}}
2019-03-10 14:01:10,918 p=26457 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 14:01:10,918 p=26457 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:57
2019-03-10 14:01:15,068 p=26457 u=michael |  ERROR! The requested handler 'restart mysqld' was not found in either the main handlers list nor in the listening handlers list
2019-03-10 14:03:34,546 p=26644 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 14:03:34,547 p=26644 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 14:03:34,555 p=26644 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 14:03:34,555 p=26644 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 14:03:34,767 p=26644 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 14:03:34,767 p=26644 u=michael |  1 plays in site.yml
2019-03-10 14:03:34,793 p=26644 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 14:03:34,794 p=26644 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 14:03:34,797 p=26644 u=michael |  META: ran handlers
2019-03-10 14:03:34,805 p=26644 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 14:03:34,806 p=26644 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 14:03:34,843 p=26644 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 14:03:34,849 p=26644 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 14:03:34,850 p=26644 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:26
2019-03-10 14:03:45,255 p=26644 u=michael |  ok: [192.168.3.43] => {"ansible_facts": {"pkg_mgr": "yum"}, "changed": false, "msg": "", "rc": 0, "results": ["mysql80-community-release-el7-2.noarch providing /root/.ansible/tmp/ansible-tmp-1552197814.883439-53038498318352/mysql80-community-release-el7-2.noarchUFrs3o.rpm is already installed"]}
2019-03-10 14:03:45,262 p=26644 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 14:03:45,263 p=26644 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:30
2019-03-10 14:03:53,748 p=26644 u=michael |  ok: [192.168.3.43] => {"changed": false, "msg": "", "rc": 0, "results": ["mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"]}
2019-03-10 14:03:53,754 p=26644 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 14:03:53,755 p=26644 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:38
2019-03-10 14:03:53,795 p=26644 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 14:03:53,803 p=26644 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 14:03:53,803 p=26644 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:42
2019-03-10 14:04:00,884 p=26644 u=michael |  ok: [192.168.3.43] => {"changed": false, "enabled": true, "name": "mysqld", "state": "started", "status": {"ActiveEnterTimestamp": "Sun 2019-03-10 13:48:43 CST", "ActiveEnterTimestampMonotonic": "3510496576", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "basic.target syslog.target system.slice systemd-journald.socket network.target", "AllowIsolate": "no", "AmbientCapabilities": "0", "AssertResult": "yes", "AssertTimestamp": "Sun 2019-03-10 13:48:19 CST", "AssertTimestampMonotonic": "3485958572", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "18446744073709551615", "CPUAccounting": "no", "CPUQuotaPerSecUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "18446744073709551615", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "18446744073709551615", "ConditionResult": "yes", "ConditionTimestamp": "Sun 2019-03-10 13:48:19 CST", "ConditionTimestampMonotonic": "3485958572", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/mysqld.service", "ControlPID": "0", "DefaultDependencies": "yes", "Delegate": "no", "Description": "MySQL Server", "DevicePolicy": "auto", "Documentation": "man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html", "EnvironmentFile": "/etc/sysconfig/mysql (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "4920", "ExecMainStartTimestamp": "Sun 2019-03-10 13:48:43 CST", "ExecMainStartTimestampMonotonic": "3510496426", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/mysqld ; argv[]=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:43 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4917 ; code=exited ; status=0 }", "ExecStartPre": "{ path=/usr/bin/mysqld_pre_systemd ; argv[]=/usr/bin/mysqld_pre_systemd ; ignore_errors=no ; start_time=[Sun 2019-03-10 13:48:19 CST] ; stop_time=[Sun 2019-03-10 13:48:43 CST] ; pid=4838 ; code=exited ; status=0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FragmentPath": "/usr/lib/systemd/system/mysqld.service", "Group": "mysql", "GuessMainPID": "yes", "IOScheduling": "0", "Id": "mysqld.service", "IgnoreOnIsolate": "no", "IgnoreOnSnapshot": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Sun 2019-03-10 13:48:19 CST", "InactiveExitTimestampMonotonic": "3485961520", "JobTimeoutAction": "none", "JobTimeoutUSec": "0", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "18446744073709551615", "LimitCORE": "18446744073709551615", "LimitCPU": "18446744073709551615", "LimitDATA": "18446744073709551615", "LimitFSIZE": "18446744073709551615", "LimitLOCKS": "18446744073709551615", "LimitMEMLOCK": "65536", "LimitMSGQUEUE": "819200", "LimitNICE": "0", "LimitNOFILE": "5000", "LimitNPROC": "31067", "LimitRSS": "18446744073709551615", "LimitRTPRIO": "0", "LimitRTTIME": "18446744073709551615", "LimitSIGPENDING": "31067", "LimitSTACK": "18446744073709551615", "LoadState": "loaded", "MainPID": "4920", "MemoryAccounting": "no", "MemoryCurrent": "18446744073709551615", "MemoryLimit": "18446744073709551615", "MountFlags": "0", "Names": "mysqld.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "PIDFile": "/var/run/mysqld/mysqld.pid", "PermissionsStartOnly": "yes", "PrivateDevices": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "ProtectHome": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "RemainAfterExit": "no", "Requires": "basic.target", "Restart": "on-failure", "RestartUSec": "100ms", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitInterval": "10000000", "StartupBlockIOWeight": "18446744073709551615", "StartupCPUShares": "18446744073709551615", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "no", "TasksCurrent": "28", "TasksMax": "18446744073709551615", "TimeoutStartUSec": "0", "TimeoutStopUSec": "0", "TimerSlackNSec": "50000", "Transient": "no", "Type": "forking", "UMask": "0022", "UnitFilePreset": "disabled", "UnitFileState": "enabled", "User": "mysql", "WantedBy": "multi-user.target", "Wants": "system.slice", "WatchdogTimestamp": "Sun 2019-03-10 13:48:43 CST", "WatchdogTimestampMonotonic": "3510496503", "WatchdogUSec": "0"}}
2019-03-10 14:04:00,892 p=26644 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 14:04:00,892 p=26644 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:57
2019-03-10 14:04:06,733 p=26644 u=michael |  ok: [192.168.3.43] => {"changed": false, "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client]\"\n user=root\n password=Home123* > /root/.my.cnf", "rc": 0, "stdout": "skipped, since /root/.my.cnf exists", "stdout_lines": ["skipped, since /root/.my.cnf exists"]}
2019-03-10 14:04:06,734 p=26644 u=michael |  META: ran handlers
2019-03-10 14:04:06,741 p=26644 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 14:04:06,741 p=26644 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:72
2019-03-10 14:04:06,781 p=26644 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client]\"\n user=root\n password=Home123* > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 14:04:06,782 p=26644 u=michael |  META: ran handlers
2019-03-10 14:04:06,782 p=26644 u=michael |  META: ran handlers
2019-03-10 14:04:06,783 p=26644 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 14:04:06,783 p=26644 u=michael |  192.168.3.43               : ok=7    changed=0    unreachable=0    failed=0   
2019-03-10 14:11:27,060 p=27049 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 14:11:27,060 p=27049 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 14:11:27,068 p=27049 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 14:11:27,069 p=27049 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 14:11:27,285 p=27049 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 14:11:27,286 p=27049 u=michael |  1 plays in site.yml
2019-03-10 14:11:27,312 p=27049 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 14:11:27,313 p=27049 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 14:11:27,316 p=27049 u=michael |  META: ran handlers
2019-03-10 14:11:27,325 p=27049 u=michael |  TASK [mysql_master_remove : Debug vars] *****************************************************************
2019-03-10 14:11:27,325 p=27049 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:3
2019-03-10 14:11:27,363 p=27049 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 14:11:27,369 p=27049 u=michael |  TASK [mysql_master_remove : Remove Mysql] ***************************************************************
2019-03-10 14:11:27,370 p=27049 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:6
2019-03-10 14:11:51,962 p=27049 u=michael |  fatal: [192.168.3.43]: FAILED! => {"ansible_facts": {"pkg_mgr": "yum"}, "changed": false, "msg": "Unsupported parameters for (yum) module: names Supported parameters include: allow_downgrade, autoremove, bugfix, conf_file, disable_excludes, disable_gpg_check, disable_plugin, disablerepo, download_only, enable_plugin, enablerepo, exclude, install_repoquery, installroot, list, name, releasever, security, skip_broken, state, update_cache, update_only, use_backend, validate_certs"}
2019-03-10 14:11:51,965 p=27049 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 14:11:51,965 p=27049 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 14:11:51,965 p=27049 u=michael |  192.168.3.43               : ok=1    changed=0    unreachable=0    failed=1   
2019-03-10 14:14:01,558 p=27182 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 14:14:01,558 p=27182 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 14:14:01,567 p=27182 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 14:14:01,567 p=27182 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 14:14:01,779 p=27182 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 14:14:01,780 p=27182 u=michael |  1 plays in site.yml
2019-03-10 14:14:01,806 p=27182 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 14:14:01,806 p=27182 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 14:14:01,809 p=27182 u=michael |  META: ran handlers
2019-03-10 14:14:01,817 p=27182 u=michael |  TASK [mysql_master_remove : Debug vars] *****************************************************************
2019-03-10 14:14:01,817 p=27182 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:3
2019-03-10 14:14:01,854 p=27182 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 14:14:01,861 p=27182 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **********************************************************
2019-03-10 14:14:01,861 p=27182 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:6
2019-03-10 14:14:24,433 p=27182 u=michael |  changed: [192.168.3.43] => {"ansible_facts": {"pkg_mgr": "yum"}, "changed": true, "msg": "", "rc": 0, "results": ["Loaded plugins: fastestmirror, langpacks\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be erased\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be erased\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be erased\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be erased\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                  Arch     Version           Repository            Size\n================================================================================\nRemoving:\n mysql-community-client   x86_64   5.7.25-1.el7      @mysql57-community   107 M\n mysql-community-common   x86_64   5.7.25-1.el7      @mysql57-community   2.6 M\n mysql-community-libs     x86_64   5.7.25-1.el7      @mysql57-community   9.5 M\n mysql-community-server   x86_64   5.7.25-1.el7      @mysql57-community   744 M\n\nTransaction Summary\n================================================================================\nRemove  4 Packages\n\nInstalled size: 863 M\nDownloading packages:\nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Erasing    : mysql-community-server-5.7.25-1.el7.x86_64                   1/4 \n  Erasing    : mysql-community-client-5.7.25-1.el7.x86_64                   2/4 \n  Erasing    : mysql-community-libs-5.7.25-1.el7.x86_64                     3/4 \n  Erasing    : mysql-community-common-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nRemoved:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nComplete!\n"]}
2019-03-10 14:14:24,440 p=27182 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] *******************************************************
2019-03-10 14:14:24,440 p=27182 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:19
2019-03-10 14:14:45,785 p=27182 u=michael |  changed: [192.168.3.43] => {"changed": true, "path": "/root/.my.cnf", "state": "absent"}
2019-03-10 14:14:45,793 p=27182 u=michael |  TASK [mysql_master_remove : Delete previous data] *******************************************************
2019-03-10 14:14:45,793 p=27182 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:28
2019-03-10 14:14:54,052 p=27182 u=michael |  changed: [192.168.3.43] => {"changed": true, "path": "/var/lib/mysql/", "state": "absent"}
2019-03-10 14:14:54,060 p=27182 u=michael |  TASK [mysql_master_remove : debug] **********************************************************************
2019-03-10 14:14:54,060 p=27182 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:33
2019-03-10 14:14:54,100 p=27182 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": "VARIABLE IS NOT DEFINED!: 'change_temp_pass' is undefined"
}
2019-03-10 14:14:54,101 p=27182 u=michael |  META: ran handlers
2019-03-10 14:14:54,101 p=27182 u=michael |  META: ran handlers
2019-03-10 14:14:54,102 p=27182 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 14:14:54,102 p=27182 u=michael |  192.168.3.43               : ok=5    changed=3    unreachable=0    failed=0   
2019-03-10 14:18:12,119 p=27442 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 14:18:12,119 p=27442 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 14:18:12,127 p=27442 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 14:18:12,128 p=27442 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 14:18:12,354 p=27442 u=michael |  PLAYBOOK: site.yml **************************************************************************************
2019-03-10 14:18:12,354 p=27442 u=michael |  1 plays in site.yml
2019-03-10 14:18:12,380 p=27442 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 14:18:12,380 p=27442 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 14:18:12,384 p=27442 u=michael |  META: ran handlers
2019-03-10 14:18:12,393 p=27442 u=michael |  TASK [mysql_master_remove : Debug vars] *****************************************************************
2019-03-10 14:18:12,393 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:3
2019-03-10 14:18:12,431 p=27442 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 14:18:12,437 p=27442 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **********************************************************
2019-03-10 14:18:12,438 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:6
2019-03-10 14:18:28,246 p=27442 u=michael |  ok: [192.168.3.43] => {"ansible_facts": {"pkg_mgr": "yum"}, "changed": false, "msg": "", "rc": 0, "results": ["mysql-community-libs is not installed", "mysql-community-server is not installed", "mysql-community-client is not installed", "mysql-community-common is not installed"]}
2019-03-10 14:18:28,254 p=27442 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] *******************************************************
2019-03-10 14:18:28,254 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:19
2019-03-10 14:18:30,943 p=27442 u=michael |  ok: [192.168.3.43] => {"changed": false, "path": "/root/.my.cnf", "state": "absent"}
2019-03-10 14:18:30,951 p=27442 u=michael |  TASK [mysql_master_remove : Delete previous data] *******************************************************
2019-03-10 14:18:30,951 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:28
2019-03-10 14:18:32,103 p=27442 u=michael |  ok: [192.168.3.43] => {"changed": false, "path": "/var/lib/mysql/", "state": "absent"}
2019-03-10 14:18:32,110 p=27442 u=michael |  TASK [mysql_master_remove : debug] **********************************************************************
2019-03-10 14:18:32,110 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml:33
2019-03-10 14:18:32,150 p=27442 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": "VARIABLE IS NOT DEFINED!: 'change_temp_pass' is undefined"
}
2019-03-10 14:18:32,157 p=27442 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 14:18:32,157 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 14:18:32,194 p=27442 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 14:18:32,201 p=27442 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 14:18:32,201 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:26
2019-03-10 14:18:38,006 p=27442 u=michael |  ok: [192.168.3.43] => {"changed": false, "msg": "", "rc": 0, "results": ["mysql80-community-release-el7-2.noarch providing /root/.ansible/tmp/ansible-tmp-1552198712.233996-125248290809377/mysql80-community-release-el7-2.noarchs_mvGh.rpm is already installed"]}
2019-03-10 14:18:38,013 p=27442 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 14:18:38,013 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:30
2019-03-10 14:32:01,176 p=27442 u=michael |  changed: [192.168.3.43] => {"changed": true, "msg": "", "rc": 0, "results": ["Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                   Arch      Version         Repository            Size\n================================================================================\nInstalling:\n mysql-community-server    x86_64    5.7.25-1.el7    mysql57-community    165 M\nInstalling for dependencies:\n mysql-community-client    x86_64    5.7.25-1.el7    mysql57-community     24 M\n mysql-community-common    x86_64    5.7.25-1.el7    mysql57-community    274 k\n mysql-community-libs      x86_64    5.7.25-1.el7    mysql57-community    2.2 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+3 Dependent packages)\n\nTotal download size: 192 M\nInstalled size: 863 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                              263 kB/s | 192 MB  12:26     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Installing : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Installing : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Installing : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nInstalled:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nDependency Installed:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n\nComplete!\n"]}
2019-03-10 14:32:01,183 p=27442 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 14:32:01,183 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:38
2019-03-10 14:32:01,225 p=27442 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": true,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                   Arch      Version         Repository            Size\n================================================================================\nInstalling:\n mysql-community-server    x86_64    5.7.25-1.el7    mysql57-community    165 M\nInstalling for dependencies:\n mysql-community-client    x86_64    5.7.25-1.el7    mysql57-community     24 M\n mysql-community-common    x86_64    5.7.25-1.el7    mysql57-community    274 k\n mysql-community-libs      x86_64    5.7.25-1.el7    mysql57-community    2.2 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+3 Dependent packages)\n\nTotal download size: 192 M\nInstalled size: 863 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                              263 kB/s | 192 MB  12:26     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Installing : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Installing : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Installing : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nInstalled:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nDependency Installed:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n\nComplete!\n"
        ]
    }
}
2019-03-10 14:32:01,233 p=27442 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 14:32:01,233 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:42
2019-03-10 14:32:47,455 p=27442 u=michael |  changed: [192.168.3.43] => {"changed": true, "enabled": true, "name": "mysqld", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "basic.target network.target systemd-journald.socket syslog.target system.slice", "AllowIsolate": "no", "AmbientCapabilities": "0", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "18446744073709551615", "CPUAccounting": "no", "CPUQuotaPerSecUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "18446744073709551615", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "18446744073709551615", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "Delegate": "no", "Description": "MySQL Server", "DevicePolicy": "auto", "Documentation": "man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html", "EnvironmentFile": "/etc/sysconfig/mysql (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/mysqld ; argv[]=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/usr/bin/mysqld_pre_systemd ; argv[]=/usr/bin/mysqld_pre_systemd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FragmentPath": "/usr/lib/systemd/system/mysqld.service", "Group": "mysql", "GuessMainPID": "yes", "IOScheduling": "0", "Id": "mysqld.service", "IgnoreOnIsolate": "no", "IgnoreOnSnapshot": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobTimeoutAction": "none", "JobTimeoutUSec": "0", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "18446744073709551615", "LimitCORE": "18446744073709551615", "LimitCPU": "18446744073709551615", "LimitDATA": "18446744073709551615", "LimitFSIZE": "18446744073709551615", "LimitLOCKS": "18446744073709551615", "LimitMEMLOCK": "65536", "LimitMSGQUEUE": "819200", "LimitNICE": "0", "LimitNOFILE": "5000", "LimitNPROC": "31067", "LimitRSS": "18446744073709551615", "LimitRTPRIO": "0", "LimitRTTIME": "18446744073709551615", "LimitSIGPENDING": "31067", "LimitSTACK": "18446744073709551615", "LoadState": "loaded", "MainPID": "0", "MemoryAccounting": "no", "MemoryCurrent": "18446744073709551615", "MemoryLimit": "18446744073709551615", "MountFlags": "0", "Names": "mysqld.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "PIDFile": "/var/run/mysqld/mysqld.pid", "PermissionsStartOnly": "yes", "PrivateDevices": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "ProtectHome": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "RemainAfterExit": "no", "Requires": "basic.target", "Restart": "on-failure", "RestartUSec": "100ms", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitInterval": "10000000", "StartupBlockIOWeight": "18446744073709551615", "StartupCPUShares": "18446744073709551615", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "no", "TasksCurrent": "18446744073709551615", "TasksMax": "18446744073709551615", "TimeoutStartUSec": "0", "TimeoutStopUSec": "0", "TimerSlackNSec": "50000", "Transient": "no", "Type": "forking", "UMask": "0022", "UnitFilePreset": "disabled", "UnitFileState": "enabled", "User": "mysql", "WantedBy": "multi-user.target", "Wants": "system.slice", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
2019-03-10 14:32:47,462 p=27442 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 14:32:47,463 p=27442 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:50
2019-03-10 14:32:49,405 p=27442 u=michael |  ERROR! The requested handler 'restart mysqld' was not found in either the main handlers list nor in the listening handlers list
2019-03-10 14:39:09,414 p=28145 u=michael |   [WARNING]: Found variable using reserved name: port

2019-03-10 14:39:09,415 p=28145 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 14:39:09,427 p=28145 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 14:39:09,464 p=28145 u=michael |  ok: [192.168.3.43] => {
    "msg": "Home123*"
}
2019-03-10 14:39:09,471 p=28145 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 14:39:16,265 p=28145 u=michael |  ok: [192.168.3.43]
2019-03-10 14:39:16,273 p=28145 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 14:39:23,989 p=28145 u=michael |  ok: [192.168.3.43]
2019-03-10 14:39:23,996 p=28145 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 14:39:24,038 p=28145 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 14:39:24,046 p=28145 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 14:39:44,976 p=28145 u=michael |  ok: [192.168.3.43]
2019-03-10 14:39:44,985 p=28145 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 14:39:46,179 p=28145 u=michael |  ok: [192.168.3.43]
2019-03-10 14:39:46,187 p=28145 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 14:39:46,227 p=28145 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 14:39:46,229 p=28145 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 14:39:46,229 p=28145 u=michael |  192.168.3.43               : ok=7    changed=0    unreachable=0    failed=0   
2019-03-10 15:03:12,775 p=29124 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:03:12,787 p=29124 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:03:12,825 p=29124 u=michael |  ok: [192.168.3.43] => {
    "msg": "MichelXiang"
}
2019-03-10 15:03:12,831 p=29124 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:03:18,820 p=29124 u=michael |  ok: [192.168.3.43]
2019-03-10 15:03:18,829 p=29124 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:03:27,799 p=29124 u=michael |  ok: [192.168.3.43]
2019-03-10 15:03:27,806 p=29124 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:03:27,847 p=29124 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:03:27,854 p=29124 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:04:10,800 p=29124 u=michael |  ok: [192.168.3.43]
2019-03-10 15:04:10,808 p=29124 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:04:17,370 p=29124 u=michael |  ok: [192.168.3.43]
2019-03-10 15:04:17,377 p=29124 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:04:17,444 p=29124 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:04:17,452 p=29124 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:04:21,539 p=29124 u=michael |  changed: [192.168.3.43]
2019-03-10 15:04:21,547 p=29124 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:04:21,588 p=29124 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": true,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "delta": "0:00:00.017962",
        "end": "2019-03-10 15:04:20.848421",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 15:04:20.830459",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure."
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2019-03-10 15:04:21,590 p=29124 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:04:21,590 p=29124 u=michael |  192.168.3.43               : ok=9    changed=1    unreachable=0    failed=0   
2019-03-10 15:06:02,284 p=29277 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:06:02,296 p=29277 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:06:02,334 p=29277 u=michael |  ok: [192.168.3.43] => {
    "msg": "MichelXiang"
}
2019-03-10 15:06:02,340 p=29277 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:06:23,405 p=29277 u=michael |  ok: [192.168.3.43]
2019-03-10 15:06:23,413 p=29277 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:06:32,820 p=29277 u=michael |  ok: [192.168.3.43]
2019-03-10 15:06:32,827 p=29277 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:06:32,867 p=29277 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:06:32,875 p=29277 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:06:40,474 p=29277 u=michael |  ok: [192.168.3.43]
2019-03-10 15:06:40,481 p=29277 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:06:41,416 p=29277 u=michael |  ok: [192.168.3.43]
2019-03-10 15:06:41,423 p=29277 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:06:41,465 p=29277 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:06:41,471 p=29277 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:06:42,220 p=29277 u=michael |  ok: [192.168.3.43]
2019-03-10 15:06:42,227 p=29277 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:06:42,268 p=29277 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 15:06:42,270 p=29277 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:06:42,270 p=29277 u=michael |  192.168.3.43               : ok=9    changed=0    unreachable=0    failed=0   
2019-03-10 15:23:52,171 p=29950 u=michael |  ERROR! 'var' is not a valid attribute for a Task

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 76, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Debug add_new_user
  ^ here

This error can be suppressed as a warning using the "invalid_task_attribute_failed" configuration
2019-03-10 15:24:06,206 p=29986 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:24:06,220 p=29986 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:24:06,262 p=29986 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 15:24:06,269 p=29986 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:24:14,149 p=29986 u=michael |  ok: [192.168.3.43]
2019-03-10 15:24:14,156 p=29986 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:24:16,224 p=29986 u=michael |  ok: [192.168.3.43]
2019-03-10 15:24:16,231 p=29986 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:24:16,271 p=29986 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:24:16,278 p=29986 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:24:23,211 p=29986 u=michael |  ok: [192.168.3.43]
2019-03-10 15:24:23,219 p=29986 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:24:28,619 p=29986 u=michael |  ok: [192.168.3.43]
2019-03-10 15:24:28,626 p=29986 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:24:28,667 p=29986 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:24:28,674 p=29986 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:24:32,928 p=29986 u=michael |  ok: [192.168.3.43]
2019-03-10 15:24:32,936 p=29986 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 15:24:32,976 p=29986 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 15:24:32,983 p=29986 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 15:24:34,522 p=29986 u=michael |  changed: [192.168.3.43] => (item=/data/mysql)
2019-03-10 15:24:36,778 p=29986 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 15:24:36,782 p=29986 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:24:36,782 p=29986 u=michael |  192.168.3.43               : ok=10   changed=1    unreachable=0    failed=0   
2019-03-10 15:26:36,681 p=30166 u=michael |  ERROR! Syntax Error while loading YAML.
  found unacceptable key (unhashable type: 'AnsibleMapping')

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 87, column 8, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  with_items:
    - {{ mysql_data_dir }}
       ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2019-03-10 15:27:02,619 p=30212 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:27:02,631 p=30212 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:27:02,671 p=30212 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 15:27:02,678 p=30212 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:27:08,633 p=30212 u=michael |  ok: [192.168.3.43]
2019-03-10 15:27:08,641 p=30212 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:27:11,582 p=30212 u=michael |  ok: [192.168.3.43]
2019-03-10 15:27:11,590 p=30212 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:27:11,630 p=30212 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:27:11,637 p=30212 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:27:24,861 p=30212 u=michael |  ok: [192.168.3.43]
2019-03-10 15:27:24,869 p=30212 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:27:27,362 p=30212 u=michael |  ok: [192.168.3.43]
2019-03-10 15:27:27,370 p=30212 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:27:27,411 p=30212 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:27:27,417 p=30212 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:27:29,011 p=30212 u=michael |  ok: [192.168.3.43]
2019-03-10 15:27:29,018 p=30212 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 15:27:29,058 p=30212 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 15:27:29,065 p=30212 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 15:27:31,807 p=30212 u=michael |  changed: [192.168.3.43] => (item=/data/mysql)
2019-03-10 15:27:33,701 p=30212 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 15:27:33,704 p=30212 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:27:33,705 p=30212 u=michael |  192.168.3.43               : ok=10   changed=1    unreachable=0    failed=0   
2019-03-10 15:30:56,435 p=30461 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:30:56,447 p=30461 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:30:56,484 p=30461 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 15:30:56,490 p=30461 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:31:08,379 p=30461 u=michael |  ok: [192.168.3.43]
2019-03-10 15:31:08,386 p=30461 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:31:21,182 p=30461 u=michael |  ok: [192.168.3.43]
2019-03-10 15:31:21,190 p=30461 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:31:21,231 p=30461 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:31:21,239 p=30461 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:31:27,195 p=30461 u=michael |  ok: [192.168.3.43]
2019-03-10 15:31:27,203 p=30461 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:31:31,101 p=30461 u=michael |  ok: [192.168.3.43]
2019-03-10 15:31:31,108 p=30461 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:31:31,149 p=30461 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:31:31,156 p=30461 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:31:31,177 p=30461 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'mysql_password' is undefined\n\nThe error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 68, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# https://qizhanming.com/blog/2017/05/10/centos-7-yum-install-mysql-57\n- name: Add remote user\n  ^ here\n"}
2019-03-10 15:31:31,179 p=30461 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 15:31:31,179 p=30461 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:31:31,179 p=30461 u=michael |  192.168.3.43               : ok=7    changed=0    unreachable=0    failed=1   
2019-03-10 15:32:39,456 p=30604 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:32:39,467 p=30604 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:32:39,503 p=30604 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 15:32:39,509 p=30604 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:32:44,306 p=30604 u=michael |  ok: [192.168.3.43]
2019-03-10 15:32:44,314 p=30604 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:33:01,844 p=30604 u=michael |  ok: [192.168.3.43]
2019-03-10 15:33:01,851 p=30604 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:33:01,890 p=30604 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:33:01,898 p=30604 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:33:05,613 p=30604 u=michael |  ok: [192.168.3.43]
2019-03-10 15:33:05,622 p=30604 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:33:07,563 p=30604 u=michael |  ok: [192.168.3.43]
2019-03-10 15:33:07,571 p=30604 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:33:07,611 p=30604 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:33:07,618 p=30604 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:33:12,674 p=30604 u=michael |  ok: [192.168.3.43]
2019-03-10 15:33:12,681 p=30604 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 15:33:12,720 p=30604 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 15:33:12,727 p=30604 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 15:33:14,495 p=30604 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 15:33:15,662 p=30604 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 15:33:15,666 p=30604 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:33:15,667 p=30604 u=michael |  192.168.3.43               : ok=10   changed=1    unreachable=0    failed=0   
2019-03-10 15:39:18,977 p=31039 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:39:18,989 p=31039 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:39:19,026 p=31039 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 15:39:19,032 p=31039 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:39:30,810 p=31039 u=michael |  ok: [192.168.3.43]
2019-03-10 15:39:30,818 p=31039 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:39:33,318 p=31039 u=michael |  ok: [192.168.3.43]
2019-03-10 15:39:33,326 p=31039 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:39:33,368 p=31039 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:39:33,376 p=31039 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:39:49,298 p=31039 u=michael |  ok: [192.168.3.43]
2019-03-10 15:39:49,305 p=31039 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:39:51,829 p=31039 u=michael |  ok: [192.168.3.43]
2019-03-10 15:39:51,837 p=31039 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:39:51,877 p=31039 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:39:51,884 p=31039 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:39:58,729 p=31039 u=michael |  ok: [192.168.3.43]
2019-03-10 15:39:58,736 p=31039 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 15:39:58,776 p=31039 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 15:39:58,783 p=31039 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 15:40:06,651 p=31039 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 15:40:16,422 p=31039 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 15:40:16,433 p=31039 u=michael |  TASK [mysql_master : Create Mysql configuration file] ***************************************************
2019-03-10 15:40:26,317 p=31039 u=michael |  ok: [192.168.3.43]
2019-03-10 15:40:26,319 p=31039 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:40:26,319 p=31039 u=michael |  192.168.3.43               : ok=11   changed=0    unreachable=0    failed=0   
2019-03-10 15:45:12,426 p=31326 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:45:12,438 p=31326 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:45:12,477 p=31326 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 15:45:12,484 p=31326 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:45:28,228 p=31326 u=michael |  ok: [192.168.3.43]
2019-03-10 15:45:28,236 p=31326 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:45:32,534 p=31326 u=michael |  ok: [192.168.3.43]
2019-03-10 15:45:32,542 p=31326 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:45:32,583 p=31326 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:45:32,591 p=31326 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:45:38,463 p=31326 u=michael |  ok: [192.168.3.43]
2019-03-10 15:45:38,472 p=31326 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:45:42,101 p=31326 u=michael |  ok: [192.168.3.43]
2019-03-10 15:45:42,108 p=31326 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:45:42,149 p=31326 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:45:42,156 p=31326 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:45:51,734 p=31326 u=michael |  ok: [192.168.3.43]
2019-03-10 15:45:51,741 p=31326 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 15:45:51,782 p=31326 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 15:45:51,789 p=31326 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 15:46:00,027 p=31326 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 15:46:08,523 p=31326 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 15:46:08,533 p=31326 u=michael |  TASK [mysql_master : Create Mysql configuration file] ***************************************************
2019-03-10 15:46:08,894 p=31326 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Could not find or access 'my.cnf.j2'\nSearched in:\n\t/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/templates/my.cnf.j2\n\t/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/my.cnf.j2\n\t/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/templates/my.cnf.j2\n\t/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/my.cnf.j2\n\t/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/templates/my.cnf.j2\n\t/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/my.cnf.j2 on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2019-03-10 15:46:08,897 p=31326 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 15:46:08,897 p=31326 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:46:08,897 p=31326 u=michael |  192.168.3.43               : ok=10   changed=0    unreachable=0    failed=1   
2019-03-10 15:46:31,551 p=31509 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:46:31,563 p=31509 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 15:46:31,602 p=31509 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 15:46:31,609 p=31509 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 15:47:04,062 p=31509 u=michael |  ok: [192.168.3.43]
2019-03-10 15:47:04,070 p=31509 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 15:47:07,123 p=31509 u=michael |  ok: [192.168.3.43]
2019-03-10 15:47:07,130 p=31509 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 15:47:07,169 p=31509 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 15:47:07,177 p=31509 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 15:47:21,984 p=31509 u=michael |  ok: [192.168.3.43]
2019-03-10 15:47:21,992 p=31509 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 15:47:26,221 p=31509 u=michael |  ok: [192.168.3.43]
2019-03-10 15:47:26,229 p=31509 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 15:47:26,271 p=31509 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 15:47:26,278 p=31509 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 15:47:27,464 p=31509 u=michael |  ok: [192.168.3.43]
2019-03-10 15:47:27,471 p=31509 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 15:47:27,513 p=31509 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 15:47:27,519 p=31509 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 15:47:44,817 p=31509 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 15:47:59,388 p=31509 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 15:47:59,399 p=31509 u=michael |  TASK [mysql_master : Create Mysql configuration file] ***************************************************
2019-03-10 15:48:18,622 p=31509 u=michael |  changed: [192.168.3.43]
2019-03-10 15:48:18,624 p=31509 u=michael |  RUNNING HANDLER [mysql_master : restart mysqld] *********************************************************
2019-03-10 15:48:52,964 p=31509 u=michael |  changed: [192.168.3.43]
2019-03-10 15:48:52,966 p=31509 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:48:52,967 p=31509 u=michael |  192.168.3.43               : ok=12   changed=2    unreachable=0    failed=0   
2019-03-10 15:58:29,258 p=32087 u=michael |  ERROR! Syntax Error while loading YAML.
  found unacceptable key (unhashable type: 'AnsibleMapping')

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml': line 30, column 12, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  file:
    path: {{mysql_top_dir}}
           ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2019-03-10 15:59:00,501 p=32147 u=michael |  ERROR! Syntax Error while loading YAML.
  did not find expected '-' indicator

The error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml': line 94, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

- name: Start Mysql Service
service:
^ here

2019-03-10 15:59:43,020 p=32216 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 15:59:43,031 p=32216 u=michael |  TASK [mysql_master_remove : Debug vars] *****************************************************************
2019-03-10 15:59:43,052 p=32216 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'mysql_password' is undefined\n\nThe error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# This Playbook runs all the common plays in the deployment\n- name: Debug vars\n  ^ here\n"}
2019-03-10 15:59:43,053 p=32216 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 15:59:43,054 p=32216 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 15:59:43,054 p=32216 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 16:00:18,824 p=32283 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 16:00:18,837 p=32283 u=michael |  TASK [mysql_master_remove : Debug vars] *****************************************************************
2019-03-10 16:00:18,857 p=32283 u=michael |  fatal: [192.168.3.43]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'mysql_password' is undefined\n\nThe error appears to have been in '/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master_remove/tasks/main.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# This Playbook runs all the common plays in the deployment\n- name: Debug vars\n  ^ here\n"}
2019-03-10 16:00:18,859 p=32283 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 16:00:18,859 p=32283 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 16:00:18,859 p=32283 u=michael |  192.168.3.43               : ok=0    changed=0    unreachable=0    failed=1   
2019-03-10 16:01:09,202 p=32349 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 16:01:09,214 p=32349 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **********************************************************
2019-03-10 16:01:21,374 p=32349 u=michael |  changed: [192.168.3.43]
2019-03-10 16:01:21,380 p=32349 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] *******************************************************
2019-03-10 16:01:28,753 p=32349 u=michael |  changed: [192.168.3.43]
2019-03-10 16:01:28,761 p=32349 u=michael |  TASK [mysql_master_remove : Delete previous data] *******************************************************
2019-03-10 16:01:34,293 p=32349 u=michael |  changed: [192.168.3.43]
2019-03-10 16:01:34,302 p=32349 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 16:01:34,341 p=32349 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 16:01:34,348 p=32349 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 16:01:39,525 p=32349 u=michael |  ok: [192.168.3.43]
2019-03-10 16:01:39,533 p=32349 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 16:12:56,163 p=32349 u=michael |  changed: [192.168.3.43]
2019-03-10 16:12:56,170 p=32349 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 16:12:56,241 p=32349 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": true,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                   Arch      Version         Repository            Size\n================================================================================\nInstalling:\n mysql-community-server    x86_64    5.7.25-1.el7    mysql57-community    165 M\nInstalling for dependencies:\n mysql-community-client    x86_64    5.7.25-1.el7    mysql57-community     24 M\n mysql-community-common    x86_64    5.7.25-1.el7    mysql57-community    274 k\n mysql-community-libs      x86_64    5.7.25-1.el7    mysql57-community    2.2 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+3 Dependent packages)\n\nTotal download size: 192 M\nInstalled size: 863 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                              316 kB/s | 192 MB  10:21     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Installing : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Installing : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Installing : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nInstalled:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nDependency Installed:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n\nComplete!\n"
        ]
    }
}
2019-03-10 16:12:56,248 p=32349 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 16:12:57,592 p=32349 u=michael |  changed: [192.168.3.43]
2019-03-10 16:12:57,599 p=32349 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 16:12:57,639 p=32349 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": true,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "delta": "0:00:00.015487",
        "end": "2019-03-10 16:12:57.521458",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 16:12:57.505971",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure.",
            "ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)"
        ],
        "stdout": "L5&?8FBXs3K2",
        "stdout_lines": [
            "L5&?8FBXs3K2"
        ]
    }
}
2019-03-10 16:12:57,646 p=32349 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 16:12:59,443 p=32349 u=michael |  changed: [192.168.3.43]
2019-03-10 16:12:59,450 p=32349 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 16:12:59,491 p=32349 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": true,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "delta": "0:00:00.017274",
        "end": "2019-03-10 16:12:59.367875",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 16:12:59.350601",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure.",
            "ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2019-03-10 16:12:59,498 p=32349 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 16:13:00,665 p=32349 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 16:13:02,657 p=32349 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 16:13:02,668 p=32349 u=michael |  TASK [mysql_master : Create Mysql configuration file] ***************************************************
2019-03-10 16:13:06,252 p=32349 u=michael |  ERROR! The requested handler 'restart mysqld' was not found in either the main handlers list nor in the listening handlers list
2019-03-10 16:16:04,749 p=32853 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 16:16:04,761 p=32853 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 16:16:04,800 p=32853 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 16:16:04,807 p=32853 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 16:16:38,577 p=32853 u=michael |  ok: [192.168.3.43]
2019-03-10 16:16:38,584 p=32853 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 16:16:40,823 p=32853 u=michael |  ok: [192.168.3.43]
2019-03-10 16:16:40,830 p=32853 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 16:16:40,871 p=32853 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 16:16:40,879 p=32853 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 16:16:42,587 p=32853 u=michael |  ok: [192.168.3.43]
2019-03-10 16:16:42,595 p=32853 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 16:16:42,637 p=32853 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges; \"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 16:16:42,643 p=32853 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 16:16:44,137 p=32853 u=michael |  ok: [192.168.3.43]
2019-03-10 16:16:44,145 p=32853 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 16:16:44,186 p=32853 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": false,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges; \"\n echo \"new_user=admin new_user_password=Home123*\" > /root/.my.new.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.new.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.new.cnf exists"
        ]
    }
}
2019-03-10 16:16:44,192 p=32853 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 16:16:47,829 p=32853 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 16:16:55,786 p=32853 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 16:16:55,796 p=32853 u=michael |  TASK [mysql_master : Create Mysql configuration file] ***************************************************
2019-03-10 16:17:23,547 p=32853 u=michael |  ok: [192.168.3.43]
2019-03-10 16:17:23,555 p=32853 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 16:18:19,047 p=32853 u=michael |  changed: [192.168.3.43]
2019-03-10 16:18:19,049 p=32853 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 16:18:19,049 p=32853 u=michael |  192.168.3.43               : ok=11   changed=1    unreachable=0    failed=0   
2019-03-10 16:40:27,728 p=33625 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 16:40:27,741 p=33625 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 16:40:27,780 p=33625 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 16:40:27,786 p=33625 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 16:40:45,963 p=33625 u=michael |  ok: [192.168.3.43]
2019-03-10 16:40:45,971 p=33625 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 16:41:20,400 p=33625 u=michael |  ok: [192.168.3.43]
2019-03-10 16:41:20,407 p=33625 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 16:41:20,448 p=33625 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 16:41:20,456 p=33625 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 16:41:30,909 p=33625 u=michael |  ok: [192.168.3.43]
2019-03-10 16:41:30,917 p=33625 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 16:41:30,957 p=33625 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges;\"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 16:41:30,964 p=33625 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 16:41:34,239 p=33625 u=michael |  changed: [192.168.3.43]
2019-03-10 16:41:34,247 p=33625 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 16:41:34,288 p=33625 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": true,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"CREATE USER cicd'@'%' identified by 'Home123*';GRANT ALL PRIVILEGES ON *.* TO 'cicd'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges;\"\n echo \"new_user=cicd new_user_password=Home123*\" > /root/.my.new.cnf",
        "delta": "0:00:00.018824",
        "end": "2019-03-10 16:41:34.112391",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 16:41:34.093567",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''@'%' identified by 'Home123*';GRANT ALL PRIVILEGES ON *.* TO 'cicd'@'%' IDENTIF' at line 1",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure.",
            "ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''@'%' identified by 'Home123*';GRANT ALL PRIVILEGES ON *.* TO 'cicd'@'%' IDENTIF' at line 1"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2019-03-10 16:41:34,294 p=33625 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 16:41:51,173 p=33625 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 16:41:52,855 p=33625 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 16:41:52,866 p=33625 u=michael |  TASK [mysql_master : Create Mysql configuration file] ***************************************************
2019-03-10 16:41:56,516 p=33625 u=michael |  changed: [192.168.3.43]
2019-03-10 16:41:56,522 p=33625 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 16:42:12,763 p=33625 u=michael |  ok: [192.168.3.43]
2019-03-10 16:42:12,767 p=33625 u=michael |  RUNNING HANDLER [mysql_master : restart mysqld] *********************************************************
2019-03-10 16:42:23,140 p=33625 u=michael |  changed: [192.168.3.43]
2019-03-10 16:42:23,143 p=33625 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 16:42:23,143 p=33625 u=michael |  192.168.3.43               : ok=12   changed=3    unreachable=0    failed=0   
2019-03-10 16:46:55,896 p=33916 u=michael |  PLAY [mysql_master] *************************************************************************************
2019-03-10 16:46:55,908 p=33916 u=michael |  TASK [mysql_master : Debug vars] ************************************************************************
2019-03-10 16:46:55,947 p=33916 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 16:46:55,953 p=33916 u=michael |  TASK [mysql_master : Install mysql repo from url] *******************************************************
2019-03-10 16:47:06,357 p=33916 u=michael |  ok: [192.168.3.43]
2019-03-10 16:47:06,364 p=33916 u=michael |  TASK [mysql_master : Install mysql57-community] *********************************************************
2019-03-10 16:47:09,509 p=33916 u=michael |  ok: [192.168.3.43]
2019-03-10 16:47:09,516 p=33916 u=michael |  TASK [mysql_master : Debug install_mysql57] *************************************************************
2019-03-10 16:47:09,556 p=33916 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": false,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "mysql-community-server-5.7.25-1.el7.x86_64 providing mysql-community-server-5.7.25 is already installed"
        ]
    }
}
2019-03-10 16:47:09,564 p=33916 u=michael |  TASK [mysql_master : Change mysql root password and track in] *******************************************
2019-03-10 16:47:11,162 p=33916 u=michael |  ok: [192.168.3.43]
2019-03-10 16:47:11,169 p=33916 u=michael |  TASK [mysql_master : debug] *****************************************************************************
2019-03-10 16:47:11,210 p=33916 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": false,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*'; flush privileges;\"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "failed": false,
        "rc": 0,
        "stdout": "skipped, since /root/.my.cnf exists",
        "stdout_lines": [
            "skipped, since /root/.my.cnf exists"
        ]
    }
}
2019-03-10 16:47:11,217 p=33916 u=michael |  TASK [mysql_master : Add remote user] *******************************************************************
2019-03-10 16:47:12,676 p=33916 u=michael |  changed: [192.168.3.43]
2019-03-10 16:47:12,683 p=33916 u=michael |  TASK [mysql_master : Debug add_new_user] ****************************************************************
2019-03-10 16:47:12,724 p=33916 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": true,
        "cmd": "mysql -uroot -pHome123* --connect-expired-password -e \"CREATE USER   'cicd'@'%' identified by 'Home123*'; GRANT ALL PRIVILEGES ON *.* TO 'cicd'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges;\"\n echo \"new_user=cicd new_user_password=Home123*\" > /root/.my.new.cnf",
        "delta": "0:00:00.011043",
        "end": "2019-03-10 16:47:12.571431",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 16:47:12.560388",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure."
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2019-03-10 16:47:12,732 p=33916 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *************************************************************
2019-03-10 16:47:14,230 p=33916 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 16:47:23,423 p=33916 u=michael |  ok: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 16:47:23,433 p=33916 u=michael |  TASK [mysql_master : Create Mysql configuration file] ***************************************************
2019-03-10 16:48:15,597 p=33916 u=michael |  ok: [192.168.3.43]
2019-03-10 16:48:15,606 p=33916 u=michael |  TASK [mysql_master : Start Mysql Service] ***************************************************************
2019-03-10 16:48:21,592 p=33916 u=michael |  ok: [192.168.3.43]
2019-03-10 16:48:21,594 p=33916 u=michael |  PLAY RECAP **********************************************************************************************
2019-03-10 16:48:21,594 p=33916 u=michael |  192.168.3.43               : ok=11   changed=1    unreachable=0    failed=0   
2019-03-10 17:00:42,859 p=34503 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:00:42,872 p=34503 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **************************************************************************************************************************************************************************************************************************
2019-03-10 17:01:06,158 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:01:06,165 p=34503 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:01:07,796 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:01:07,804 p=34503 u=michael |  TASK [mysql_master_remove : Delete previous data] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:01:16,186 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:01:16,194 p=34503 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 17:01:16,233 p=34503 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 17:01:16,241 p=34503 u=michael |  TASK [mysql_master : Install mysql repo from url] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:01:21,977 p=34503 u=michael |  ok: [192.168.3.43]
2019-03-10 17:01:21,985 p=34503 u=michael |  TASK [mysql_master : Install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 17:03:35,387 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:03:35,395 p=34503 u=michael |  TASK [mysql_master : Debug install_mysql57] *****************************************************************************************************************************************************************************************************************************
2019-03-10 17:03:35,436 p=34503 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": true,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                   Arch      Version         Repository            Size\n================================================================================\nInstalling:\n mysql-community-server    x86_64    5.7.25-1.el7    mysql57-community    165 M\nInstalling for dependencies:\n mysql-community-client    x86_64    5.7.25-1.el7    mysql57-community     24 M\n mysql-community-common    x86_64    5.7.25-1.el7    mysql57-community    274 k\n mysql-community-libs      x86_64    5.7.25-1.el7    mysql57-community    2.2 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+3 Dependent packages)\n\nTotal download size: 192 M\nInstalled size: 863 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                              2.8 MB/s | 192 MB  01:07     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Installing : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Installing : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Installing : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nInstalled:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nDependency Installed:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n\nComplete!\n"
        ]
    }
}
2019-03-10 17:03:35,443 p=34503 u=michael |  TASK [mysql_master : Change mysql root password and track in] ***********************************************************************************************************************************************************************************************************
2019-03-10 17:03:37,482 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:03:37,485 p=34503 u=michael |  RUNNING HANDLER [mysql_master : restart mysqld] *************************************************************************************************************************************************************************************************************************
2019-03-10 17:03:49,736 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:03:49,743 p=34503 u=michael |  TASK [mysql_master : debug] *********************************************************************************************************************************************************************************************************************************************
2019-03-10 17:03:49,795 p=34503 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": true,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*';\nflush privileges;\"\n echo \"[client] user=root password=Home123*\" > /root/.my.cnf",
        "delta": "0:00:00.017761",
        "end": "2019-03-10 17:03:37.265730",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 17:03:37.247969",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure.",
            "ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)"
        ],
        "stdout": "L5&?8FBXs3K2",
        "stdout_lines": [
            "L5&?8FBXs3K2"
        ]
    }
}
2019-03-10 17:03:49,801 p=34503 u=michael |  TASK [mysql_master : Add remote user] ***********************************************************************************************************************************************************************************************************************************
2019-03-10 17:03:52,776 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:03:52,783 p=34503 u=michael |  TASK [mysql_master : Debug add_new_user] ********************************************************************************************************************************************************************************************************************************
2019-03-10 17:03:52,855 p=34503 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": true,
        "cmd": "export MYSQL_PWD=\"Home123*\"\n mysql -uroot -pHome123* -e \"CREATE USER   'cicd'@'%' identified by 'Home123*'; GRANT ALL PRIVILEGES ON *.* TO 'cicd'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges;\"\n echo \"new_user=cicd new_user_password=Home123*\" > /root/.my.new.cnf",
        "delta": "0:00:00.012180",
        "end": "2019-03-10 17:03:52.533960",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 17:03:52.521780",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure."
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2019-03-10 17:03:52,862 p=34503 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *****************************************************************************************************************************************************************************************************************************
2019-03-10 17:03:55,020 p=34503 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 17:03:57,336 p=34503 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 17:03:57,346 p=34503 u=michael |  TASK [mysql_master : Create Mysql configuration file] *******************************************************************************************************************************************************************************************************************
2019-03-10 17:04:01,752 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:04:01,754 p=34503 u=michael |  RUNNING HANDLER [mysql_master : restart mysqld] *************************************************************************************************************************************************************************************************************************
2019-03-10 17:05:03,608 p=34503 u=michael |  changed: [192.168.3.43]
2019-03-10 17:05:03,611 p=34503 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:05:03,611 p=34503 u=michael |  192.168.3.43               : ok=15   changed=10   unreachable=0    failed=0   
2019-03-10 17:08:14,518 p=34858 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:08:14,529 p=34858 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **************************************************************************************************************************************************************************************************************************
2019-03-10 17:08:29,775 p=34858 u=michael |  changed: [192.168.3.43]
2019-03-10 17:08:29,782 p=34858 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:08:45,152 p=34858 u=michael |  changed: [192.168.3.43]
2019-03-10 17:08:45,159 p=34858 u=michael |  TASK [mysql_master_remove : Delete previous data] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:08:56,392 p=34858 u=michael |  changed: [192.168.3.43]
2019-03-10 17:08:56,395 p=34858 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:08:56,395 p=34858 u=michael |  192.168.3.43               : ok=3    changed=3    unreachable=0    failed=0   
2019-03-10 17:09:17,237 p=34958 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:09:17,247 p=34958 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **************************************************************************************************************************************************************************************************************************
2019-03-10 17:09:48,607 p=34958 u=michael |  ok: [192.168.3.43]
2019-03-10 17:09:48,614 p=34958 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:09:54,435 p=34958 u=michael |  ok: [192.168.3.43]
2019-03-10 17:09:54,442 p=34958 u=michael |  TASK [mysql_master_remove : Delete previous data] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:09:55,464 p=34958 u=michael |  ok: [192.168.3.43]
2019-03-10 17:09:55,472 p=34958 u=michael |  TASK [mysql_master_remove : Delete default data] ************************************************************************************************************************************************************************************************************************
2019-03-10 17:09:56,754 p=34958 u=michael |  changed: [192.168.3.43]
2019-03-10 17:09:56,757 p=34958 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:09:56,757 p=34958 u=michael |  192.168.3.43               : ok=4    changed=1    unreachable=0    failed=0   
2019-03-10 17:24:39,533 p=35448 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:24:39,545 p=35448 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **************************************************************************************************************************************************************************************************************************
2019-03-10 17:25:00,043 p=35448 u=michael |  changed: [192.168.3.43]
2019-03-10 17:25:00,050 p=35448 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:25:02,369 p=35448 u=michael |  ok: [192.168.3.43]
2019-03-10 17:25:02,376 p=35448 u=michael |  TASK [mysql_master_remove : Delete previous data] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:25:03,590 p=35448 u=michael |  ok: [192.168.3.43]
2019-03-10 17:25:03,597 p=35448 u=michael |  TASK [mysql_master_remove : Delete default data] ************************************************************************************************************************************************************************************************************************
2019-03-10 17:25:04,978 p=35448 u=michael |  changed: [192.168.3.43]
2019-03-10 17:25:04,980 p=35448 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:25:04,981 p=35448 u=michael |  192.168.3.43               : ok=4    changed=2    unreachable=0    failed=0   
2019-03-10 17:25:48,014 p=35574 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:25:48,025 p=35574 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **************************************************************************************************************************************************************************************************************************
2019-03-10 17:26:16,443 p=35574 u=michael |  ok: [192.168.3.43]
2019-03-10 17:26:16,450 p=35574 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:26:18,141 p=35574 u=michael |  ok: [192.168.3.43]
2019-03-10 17:26:18,148 p=35574 u=michael |  TASK [mysql_master_remove : Delete previous data] ***********************************************************************************************************************************************************************************************************************
2019-03-10 17:26:21,503 p=35574 u=michael |  ok: [192.168.3.43]
2019-03-10 17:26:21,510 p=35574 u=michael |  TASK [mysql_master_remove : Delete default data] ************************************************************************************************************************************************************************************************************************
2019-03-10 17:26:23,735 p=35574 u=michael |  ok: [192.168.3.43]
2019-03-10 17:26:23,743 p=35574 u=michael |  TASK [mysql_master_remove : Delete default log] *************************************************************************************************************************************************************************************************************************
2019-03-10 17:26:25,441 p=35574 u=michael |  ok: [192.168.3.43]
2019-03-10 17:26:25,444 p=35574 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 17:26:25,444 p=35574 u=michael |  192.168.3.43               : ok=5    changed=0    unreachable=0    failed=0   
2019-03-10 18:33:26,532 p=37589 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:33:26,547 p=37589 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:33:26,591 p=37589 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:33:26,598 p=37589 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 18:33:27,191 p=37589 u=michael |  An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2019-03-10 18:33:27,192 p=37589 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "Could not find or access '/var/lib/mysql/' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2019-03-10 18:33:27,194 p=37589 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 18:33:27,194 p=37589 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:33:27,194 p=37589 u=michael |  192.168.3.43               : ok=1    changed=0    unreachable=0    failed=1   
2019-03-10 18:34:44,113 p=37675 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:34:44,124 p=37675 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:34:44,162 p=37675 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:34:44,169 p=37675 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 18:34:44,847 p=37675 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "src (or content) is required"}
2019-03-10 18:34:44,850 p=37675 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 18:34:44,850 p=37675 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:34:44,850 p=37675 u=michael |  192.168.3.43               : ok=1    changed=0    unreachable=0    failed=1   
2019-03-10 18:35:13,139 p=37719 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 18:35:13,140 p=37719 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 18:35:13,148 p=37719 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 18:35:13,148 p=37719 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 18:35:13,150 p=37719 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 18:35:13,172 p=37719 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:35:13,368 p=37719 u=michael |  PLAYBOOK: site.yml ******************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:35:13,368 p=37719 u=michael |  1 plays in site.yml
2019-03-10 18:35:13,391 p=37719 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:35:13,393 p=37719 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:35:13,394 p=37719 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:35:13,395 p=37719 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:35:13,398 p=37719 u=michael |  META: ran handlers
2019-03-10 18:35:13,406 p=37719 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:35:13,406 p=37719 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:35:13,406 p=37719 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 18:35:13,444 p=37719 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:35:13,451 p=37719 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:35:13,451 p=37719 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 18:35:13,451 p=37719 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:87
2019-03-10 18:35:13,640 p=37719 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "changed": false,
    "invocation": {
        "dest": "/data/mysql/data",
        "module_args": {
            "dest": "/data/mysql/data",
            "remote_src": "/var/lib/mysql/"
        },
        "remote_src": "/var/lib/mysql/"
    },
    "msg": "src (or content) is required"
}
2019-03-10 18:35:13,642 p=37719 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 18:35:13,642 p=37719 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:35:13,642 p=37719 u=michael |  192.168.3.43               : ok=1    changed=0    unreachable=0    failed=1   
2019-03-10 18:37:01,181 p=37800 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 18:37:01,181 p=37800 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 18:37:01,190 p=37800 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 18:37:01,190 p=37800 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 18:37:01,192 p=37800 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 18:37:01,217 p=37800 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:37:01,415 p=37800 u=michael |  PLAYBOOK: site.yml ******************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:37:01,416 p=37800 u=michael |  1 plays in site.yml
2019-03-10 18:37:01,439 p=37800 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:37:01,441 p=37800 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:37:01,443 p=37800 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:37:01,444 p=37800 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:37:01,446 p=37800 u=michael |  META: ran handlers
2019-03-10 18:37:01,454 p=37800 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:37:01,454 p=37800 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:37:01,454 p=37800 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 18:37:01,491 p=37800 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:37:01,498 p=37800 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:37:01,499 p=37800 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 18:37:01,499 p=37800 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:87
2019-03-10 18:37:07,336 p=37800 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/files/copy.py
2019-03-10 18:37:10,759 p=37800 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "changed": false,
    "invocation": {
        "module_args": {
            "_original_basename": null,
            "attributes": null,
            "backup": false,
            "checksum": null,
            "content": null,
            "delimiter": null,
            "dest": "/data/mysql/data",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": true,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/var/lib/mysql/",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "msg": "Remote copy does not support recursive copy of directory: /var/lib/mysql/"
}
2019-03-10 18:37:10,762 p=37800 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 18:37:10,762 p=37800 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:37:10,762 p=37800 u=michael |  192.168.3.43               : ok=1    changed=0    unreachable=0    failed=1   
2019-03-10 18:38:17,416 p=37882 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 18:38:17,417 p=37882 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 18:38:17,425 p=37882 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 18:38:17,425 p=37882 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 18:38:17,427 p=37882 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 18:38:17,450 p=37882 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:38:17,647 p=37882 u=michael |  PLAYBOOK: site.yml ******************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:38:17,647 p=37882 u=michael |  1 plays in site.yml
2019-03-10 18:38:17,659 p=37882 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:38:17,672 p=37882 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:38:17,674 p=37882 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:38:17,674 p=37882 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:38:17,677 p=37882 u=michael |  META: ran handlers
2019-03-10 18:38:17,686 p=37882 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:38:17,687 p=37882 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:38:17,687 p=37882 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 18:38:17,727 p=37882 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:38:17,734 p=37882 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:38:17,734 p=37882 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 18:38:17,734 p=37882 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:87
2019-03-10 18:38:29,260 p=37882 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/files/copy.py
2019-03-10 18:38:30,012 p=37882 u=michael |  fatal: [192.168.3.43]: FAILED! => {
    "changed": false,
    "invocation": {
        "module_args": {
            "_original_basename": null,
            "attributes": null,
            "backup": false,
            "checksum": null,
            "content": null,
            "delimiter": null,
            "dest": "/data/mysql/data",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "regexp": null,
            "remote_src": true,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/var/lib/mysql",
            "unsafe_writes": null,
            "validate": null
        }
    },
    "msg": "Remote copy does not support recursive copy of directory: /var/lib/mysql"
}
2019-03-10 18:38:30,014 p=37882 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 18:38:30,014 p=37882 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:38:30,015 p=37882 u=michael |  192.168.3.43               : ok=1    changed=0    unreachable=0    failed=1   
2019-03-10 18:40:43,734 p=38007 u=michael |  ansible-playbook 2.7.8
  config file = /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg
  configured module search path = ['/Users/michael/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.7.2 (default, Feb 12 2019, 08:15:36) [Clang 10.0.0 (clang-1000.11.45.5)]
2019-03-10 18:40:43,734 p=38007 u=michael |  Using /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/ansible.cfg as config file
2019-03-10 18:40:43,743 p=38007 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-10 18:40:43,743 p=38007 u=michael |  /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml did not meet script requirements, check plugin documentation if this is unexpected
2019-03-10 18:40:43,745 p=38007 u=michael |  Parsed /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/inventory/hosts.yml inventory source with yaml plugin
2019-03-10 18:40:43,767 p=38007 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:40:43,962 p=38007 u=michael |  PLAYBOOK: site.yml ******************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:40:43,962 p=38007 u=michael |  1 plays in site.yml
2019-03-10 18:40:43,974 p=38007 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:40:43,987 p=38007 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:40:43,989 p=38007 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:40:43,990 p=38007 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:40:43,993 p=38007 u=michael |  META: ran handlers
2019-03-10 18:40:44,001 p=38007 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:40:44,002 p=38007 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:40:44,002 p=38007 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:3
2019-03-10 18:40:44,040 p=38007 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:40:44,048 p=38007 u=michael |  Read vars_file './group_vars/mysql_servers.yml'
2019-03-10 18:40:44,048 p=38007 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 18:40:44,048 p=38007 u=michael |  task path: /Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/roles/mysql_master/tasks/main.yml:87
2019-03-10 18:40:45,546 p=38007 u=michael |  Using module file /usr/local/lib/python3.7/site-packages/ansible/modules/commands/command.py
2019-03-10 18:40:51,304 p=38007 u=michael |  changed: [192.168.3.43] => {
    "changed": true,
    "cmd": "rsync -av /var/lib/mysql/ \"/data/mysql/data\"",
    "delta": "0:00:00.963841",
    "end": "2019-03-10 18:40:49.132409",
    "invocation": {
        "module_args": {
            "_raw_params": "rsync -av /var/lib/mysql/ \"/data/mysql/data\"",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": true
        }
    },
    "rc": 0,
    "start": "2019-03-10 18:40:48.168568",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "sending incremental file list\ncreated directory /data/mysql/data\n./\n.rnd\nauto.cnf\nca-key.pem\nca.pem\nclient-cert.pem\nclient-key.pem\nib_buffer_pool\nib_logfile0\nib_logfile1\nibdata1\nprivate_key.pem\npublic_key.pem\nserver-cert.pem\nserver-key.pem\nmysql/\nmysql/columns_priv.MYD\nmysql/columns_priv.MYI\nmysql/columns_priv.frm\nmysql/db.MYD\nmysql/db.MYI\nmysql/db.frm\nmysql/db.opt\nmysql/engine_cost.frm\nmysql/engine_cost.ibd\nmysql/event.MYD\nmysql/event.MYI\nmysql/event.frm\nmysql/func.MYD\nmysql/func.MYI\nmysql/func.frm\nmysql/general_log.CSM\nmysql/general_log.CSV\nmysql/general_log.frm\nmysql/gtid_executed.frm\nmysql/gtid_executed.ibd\nmysql/help_category.frm\nmysql/help_category.ibd\nmysql/help_keyword.frm\nmysql/help_keyword.ibd\nmysql/help_relation.frm\nmysql/help_relation.ibd\nmysql/help_topic.frm\nmysql/help_topic.ibd\nmysql/innodb_index_stats.frm\nmysql/innodb_index_stats.ibd\nmysql/innodb_table_stats.frm\nmysql/innodb_table_stats.ibd\nmysql/ndb_binlog_index.MYD\nmysql/ndb_binlog_index.MYI\nmysql/ndb_binlog_index.frm\nmysql/plugin.frm\nmysql/plugin.ibd\nmysql/proc.MYD\nmysql/proc.MYI\nmysql/proc.frm\nmysql/procs_priv.MYD\nmysql/procs_priv.MYI\nmysql/procs_priv.frm\nmysql/proxies_priv.MYD\nmysql/proxies_priv.MYI\nmysql/proxies_priv.frm\nmysql/server_cost.frm\nmysql/server_cost.ibd\nmysql/servers.frm\nmysql/servers.ibd\nmysql/slave_master_info.frm\nmysql/slave_master_info.ibd\nmysql/slave_relay_log_info.frm\nmysql/slave_relay_log_info.ibd\nmysql/slave_worker_info.frm\nmysql/slave_worker_info.ibd\nmysql/slow_log.CSM\nmysql/slow_log.CSV\nmysql/slow_log.frm\nmysql/tables_priv.MYD\nmysql/tables_priv.MYI\nmysql/tables_priv.frm\nmysql/time_zone.frm\nmysql/time_zone.ibd\nmysql/time_zone_leap_second.frm\nmysql/time_zone_leap_second.ibd\nmysql/time_zone_name.frm\nmysql/time_zone_name.ibd\nmysql/time_zone_transition.frm\nmysql/time_zone_transition.ibd\nmysql/time_zone_transition_type.frm\nmysql/time_zone_transition_type.ibd\nmysql/user.MYD\nmysql/user.MYI\nmysql/user.frm\nperformance_schema/\nperformance_schema/accounts.frm\nperformance_schema/cond_instances.frm\nperformance_schema/db.opt\nperformance_schema/events_stages_current.frm\nperformance_schema/events_stages_history.frm\nperformance_schema/events_stages_history_long.frm\nperformance_schema/events_stages_summary_by_account_by_event_name.frm\nperformance_schema/events_stages_summary_by_host_by_event_name.frm\nperformance_schema/events_stages_summary_by_thread_by_event_name.frm\nperformance_schema/events_stages_summary_by_user_by_event_name.frm\nperformance_schema/events_stages_summary_global_by_event_name.frm\nperformance_schema/events_statements_current.frm\nperformance_schema/events_statements_history.frm\nperformance_schema/events_statements_history_long.frm\nperformance_schema/events_statements_summary_by_account_by_event_name.frm\nperformance_schema/events_statements_summary_by_digest.frm\nperformance_schema/events_statements_summary_by_host_by_event_name.frm\nperformance_schema/events_statements_summary_by_program.frm\nperformance_schema/events_statements_summary_by_thread_by_event_name.frm\nperformance_schema/events_statements_summary_by_user_by_event_name.frm\nperformance_schema/events_statements_summary_global_by_event_name.frm\nperformance_schema/events_transactions_current.frm\nperformance_schema/events_transactions_history.frm\nperformance_schema/events_transactions_history_long.frm\nperformance_schema/events_transactions_summary_by_account_by_event_name.frm\nperformance_schema/events_transactions_summary_by_host_by_event_name.frm\nperformance_schema/events_transactions_summary_by_thread_by_event_name.frm\nperformance_schema/events_transactions_summary_by_user_by_event_name.frm\nperformance_schema/events_transactions_summary_global_by_event_name.frm\nperformance_schema/events_waits_current.frm\nperformance_schema/events_waits_history.frm\nperformance_schema/events_waits_history_long.frm\nperformance_schema/events_waits_summary_by_account_by_event_name.frm\nperformance_schema/events_waits_summary_by_host_by_event_name.frm\nperformance_schema/events_waits_summary_by_instance.frm\nperformance_schema/events_waits_summary_by_thread_by_event_name.frm\nperformance_schema/events_waits_summary_by_user_by_event_name.frm\nperformance_schema/events_waits_summary_global_by_event_name.frm\nperformance_schema/file_instances.frm\nperformance_schema/file_summary_by_event_name.frm\nperformance_schema/file_summary_by_instance.frm\nperformance_schema/global_status.frm\nperformance_schema/global_variables.frm\nperformance_schema/host_cache.frm\nperformance_schema/hosts.frm\nperformance_schema/memory_summary_by_account_by_event_name.frm\nperformance_schema/memory_summary_by_host_by_event_name.frm\nperformance_schema/memory_summary_by_thread_by_event_name.frm\nperformance_schema/memory_summary_by_user_by_event_name.frm\nperformance_schema/memory_summary_global_by_event_name.frm\nperformance_schema/metadata_locks.frm\nperformance_schema/mutex_instances.frm\nperformance_schema/objects_summary_global_by_type.frm\nperformance_schema/performance_timers.frm\nperformance_schema/prepared_statements_instances.frm\nperformance_schema/replication_applier_configuration.frm\nperformance_schema/replication_applier_status.frm\nperformance_schema/replication_applier_status_by_coordinator.frm\nperformance_schema/replication_applier_status_by_worker.frm\nperformance_schema/replication_connection_configuration.frm\nperformance_schema/replication_connection_status.frm\nperformance_schema/replication_group_member_stats.frm\nperformance_schema/replication_group_members.frm\nperformance_schema/rwlock_instances.frm\nperformance_schema/session_account_connect_attrs.frm\nperformance_schema/session_connect_attrs.frm\nperformance_schema/session_status.frm\nperformance_schema/session_variables.frm\nperformance_schema/setup_actors.frm\nperformance_schema/setup_consumers.frm\nperformance_schema/setup_instruments.frm\nperformance_schema/setup_objects.frm\nperformance_schema/setup_timers.frm\nperformance_schema/socket_instances.frm\nperformance_schema/socket_summary_by_event_name.frm\nperformance_schema/socket_summary_by_instance.frm\nperformance_schema/status_by_account.frm\nperformance_schema/status_by_host.frm\nperformance_schema/status_by_thread.frm\nperformance_schema/status_by_user.frm\nperformance_schema/table_handles.frm\nperformance_schema/table_io_waits_summary_by_index_usage.frm\nperformance_schema/table_io_waits_summary_by_table.frm\nperformance_schema/table_lock_waits_summary_by_table.frm\nperformance_schema/threads.frm\nperformance_schema/user_variables_by_thread.frm\nperformance_schema/users.frm\nperformance_schema/variables_by_thread.frm\nsys/\nsys/db.opt\nsys/host_summary.frm\nsys/host_summary_by_file_io.frm\nsys/host_summary_by_file_io_type.frm\nsys/host_summary_by_stages.frm\nsys/host_summary_by_statement_latency.frm\nsys/host_summary_by_statement_type.frm\nsys/innodb_buffer_stats_by_schema.frm\nsys/innodb_buffer_stats_by_table.frm\nsys/innodb_lock_waits.frm\nsys/io_by_thread_by_latency.frm\nsys/io_global_by_file_by_bytes.frm\nsys/io_global_by_file_by_latency.frm\nsys/io_global_by_wait_by_bytes.frm\nsys/io_global_by_wait_by_latency.frm\nsys/latest_file_io.frm\nsys/memory_by_host_by_current_bytes.frm\nsys/memory_by_thread_by_current_bytes.frm\nsys/memory_by_user_by_current_bytes.frm\nsys/memory_global_by_current_bytes.frm\nsys/memory_global_total.frm\nsys/metrics.frm\nsys/processlist.frm\nsys/ps_check_lost_instrumentation.frm\nsys/schema_auto_increment_columns.frm\nsys/schema_index_statistics.frm\nsys/schema_object_overview.frm\nsys/schema_redundant_indexes.frm\nsys/schema_table_lock_waits.frm\nsys/schema_table_statistics.frm\nsys/schema_table_statistics_with_buffer.frm\nsys/schema_tables_with_full_table_scans.frm\nsys/schema_unused_indexes.frm\nsys/session.frm\nsys/session_ssl_status.frm\nsys/statement_analysis.frm\nsys/statements_with_errors_or_warnings.frm\nsys/statements_with_full_table_scans.frm\nsys/statements_with_runtimes_in_95th_percentile.frm\nsys/statements_with_sorting.frm\nsys/statements_with_temp_tables.frm\nsys/sys_config.TRG\nsys/sys_config.frm\nsys/sys_config.ibd\nsys/sys_config_insert_set_user.TRN\nsys/sys_config_update_set_user.TRN\nsys/user_summary.frm\nsys/user_summary_by_file_io.frm\nsys/user_summary_by_file_io_type.frm\nsys/user_summary_by_stages.frm\nsys/user_summary_by_statement_latency.frm\nsys/user_summary_by_statement_type.frm\nsys/version.frm\nsys/wait_classes_global_by_avg_latency.frm\nsys/wait_classes_global_by_latency.frm\nsys/waits_by_host_by_latency.frm\nsys/waits_by_user_by_latency.frm\nsys/waits_global_by_latency.frm\nsys/x@0024host_summary.frm\nsys/x@0024host_summary_by_file_io.frm\nsys/x@0024host_summary_by_file_io_type.frm\nsys/x@0024host_summary_by_stages.frm\nsys/x@0024host_summary_by_statement_latency.frm\nsys/x@0024host_summary_by_statement_type.frm\nsys/x@0024innodb_buffer_stats_by_schema.frm\nsys/x@0024innodb_buffer_stats_by_table.frm\nsys/x@0024innodb_lock_waits.frm\nsys/x@0024io_by_thread_by_latency.frm\nsys/x@0024io_global_by_file_by_bytes.frm\nsys/x@0024io_global_by_file_by_latency.frm\nsys/x@0024io_global_by_wait_by_bytes.frm\nsys/x@0024io_global_by_wait_by_latency.frm\nsys/x@0024latest_file_io.frm\nsys/x@0024memory_by_host_by_current_bytes.frm\nsys/x@0024memory_by_thread_by_current_bytes.frm\nsys/x@0024memory_by_user_by_current_bytes.frm\nsys/x@0024memory_global_by_current_bytes.frm\nsys/x@0024memory_global_total.frm\nsys/x@0024processlist.frm\nsys/x@0024ps_digest_95th_percentile_by_avg_us.frm\nsys/x@0024ps_digest_avg_latency_distribution.frm\nsys/x@0024ps_schema_table_statistics_io.frm\nsys/x@0024schema_flattened_keys.frm\nsys/x@0024schema_index_statistics.frm\nsys/x@0024schema_table_lock_waits.frm\nsys/x@0024schema_table_statistics.frm\nsys/x@0024schema_table_statistics_with_buffer.frm\nsys/x@0024schema_tables_with_full_table_scans.frm\nsys/x@0024session.frm\nsys/x@0024statement_analysis.frm\nsys/x@0024statements_with_errors_or_warnings.frm\nsys/x@0024statements_with_full_table_scans.frm\nsys/x@0024statements_with_runtimes_in_95th_percentile.frm\nsys/x@0024statements_with_sorting.frm\nsys/x@0024statements_with_temp_tables.frm\nsys/x@0024user_summary.frm\nsys/x@0024user_summary_by_file_io.frm\nsys/x@0024user_summary_by_file_io_type.frm\nsys/x@0024user_summary_by_stages.frm\nsys/x@0024user_summary_by_statement_latency.frm\nsys/x@0024user_summary_by_statement_type.frm\nsys/x@0024wait_classes_global_by_avg_latency.frm\nsys/x@0024wait_classes_global_by_latency.frm\nsys/x@0024waits_by_host_by_latency.frm\nsys/x@0024waits_by_user_by_latency.frm\nsys/x@0024waits_global_by_latency.frm\n\nsent 126,633,378 bytes  received 5,463 bytes  84,425,894.00 bytes/sec\ntotal size is 126,581,139  speedup is 1.00",
    "stdout_lines": [
        "sending incremental file list",
        "created directory /data/mysql/data",
        "./",
        ".rnd",
        "auto.cnf",
        "ca-key.pem",
        "ca.pem",
        "client-cert.pem",
        "client-key.pem",
        "ib_buffer_pool",
        "ib_logfile0",
        "ib_logfile1",
        "ibdata1",
        "private_key.pem",
        "public_key.pem",
        "server-cert.pem",
        "server-key.pem",
        "mysql/",
        "mysql/columns_priv.MYD",
        "mysql/columns_priv.MYI",
        "mysql/columns_priv.frm",
        "mysql/db.MYD",
        "mysql/db.MYI",
        "mysql/db.frm",
        "mysql/db.opt",
        "mysql/engine_cost.frm",
        "mysql/engine_cost.ibd",
        "mysql/event.MYD",
        "mysql/event.MYI",
        "mysql/event.frm",
        "mysql/func.MYD",
        "mysql/func.MYI",
        "mysql/func.frm",
        "mysql/general_log.CSM",
        "mysql/general_log.CSV",
        "mysql/general_log.frm",
        "mysql/gtid_executed.frm",
        "mysql/gtid_executed.ibd",
        "mysql/help_category.frm",
        "mysql/help_category.ibd",
        "mysql/help_keyword.frm",
        "mysql/help_keyword.ibd",
        "mysql/help_relation.frm",
        "mysql/help_relation.ibd",
        "mysql/help_topic.frm",
        "mysql/help_topic.ibd",
        "mysql/innodb_index_stats.frm",
        "mysql/innodb_index_stats.ibd",
        "mysql/innodb_table_stats.frm",
        "mysql/innodb_table_stats.ibd",
        "mysql/ndb_binlog_index.MYD",
        "mysql/ndb_binlog_index.MYI",
        "mysql/ndb_binlog_index.frm",
        "mysql/plugin.frm",
        "mysql/plugin.ibd",
        "mysql/proc.MYD",
        "mysql/proc.MYI",
        "mysql/proc.frm",
        "mysql/procs_priv.MYD",
        "mysql/procs_priv.MYI",
        "mysql/procs_priv.frm",
        "mysql/proxies_priv.MYD",
        "mysql/proxies_priv.MYI",
        "mysql/proxies_priv.frm",
        "mysql/server_cost.frm",
        "mysql/server_cost.ibd",
        "mysql/servers.frm",
        "mysql/servers.ibd",
        "mysql/slave_master_info.frm",
        "mysql/slave_master_info.ibd",
        "mysql/slave_relay_log_info.frm",
        "mysql/slave_relay_log_info.ibd",
        "mysql/slave_worker_info.frm",
        "mysql/slave_worker_info.ibd",
        "mysql/slow_log.CSM",
        "mysql/slow_log.CSV",
        "mysql/slow_log.frm",
        "mysql/tables_priv.MYD",
        "mysql/tables_priv.MYI",
        "mysql/tables_priv.frm",
        "mysql/time_zone.frm",
        "mysql/time_zone.ibd",
        "mysql/time_zone_leap_second.frm",
        "mysql/time_zone_leap_second.ibd",
        "mysql/time_zone_name.frm",
        "mysql/time_zone_name.ibd",
        "mysql/time_zone_transition.frm",
        "mysql/time_zone_transition.ibd",
        "mysql/time_zone_transition_type.frm",
        "mysql/time_zone_transition_type.ibd",
        "mysql/user.MYD",
        "mysql/user.MYI",
        "mysql/user.frm",
        "performance_schema/",
        "performance_schema/accounts.frm",
        "performance_schema/cond_instances.frm",
        "performance_schema/db.opt",
        "performance_schema/events_stages_current.frm",
        "performance_schema/events_stages_history.frm",
        "performance_schema/events_stages_history_long.frm",
        "performance_schema/events_stages_summary_by_account_by_event_name.frm",
        "performance_schema/events_stages_summary_by_host_by_event_name.frm",
        "performance_schema/events_stages_summary_by_thread_by_event_name.frm",
        "performance_schema/events_stages_summary_by_user_by_event_name.frm",
        "performance_schema/events_stages_summary_global_by_event_name.frm",
        "performance_schema/events_statements_current.frm",
        "performance_schema/events_statements_history.frm",
        "performance_schema/events_statements_history_long.frm",
        "performance_schema/events_statements_summary_by_account_by_event_name.frm",
        "performance_schema/events_statements_summary_by_digest.frm",
        "performance_schema/events_statements_summary_by_host_by_event_name.frm",
        "performance_schema/events_statements_summary_by_program.frm",
        "performance_schema/events_statements_summary_by_thread_by_event_name.frm",
        "performance_schema/events_statements_summary_by_user_by_event_name.frm",
        "performance_schema/events_statements_summary_global_by_event_name.frm",
        "performance_schema/events_transactions_current.frm",
        "performance_schema/events_transactions_history.frm",
        "performance_schema/events_transactions_history_long.frm",
        "performance_schema/events_transactions_summary_by_account_by_event_name.frm",
        "performance_schema/events_transactions_summary_by_host_by_event_name.frm",
        "performance_schema/events_transactions_summary_by_thread_by_event_name.frm",
        "performance_schema/events_transactions_summary_by_user_by_event_name.frm",
        "performance_schema/events_transactions_summary_global_by_event_name.frm",
        "performance_schema/events_waits_current.frm",
        "performance_schema/events_waits_history.frm",
        "performance_schema/events_waits_history_long.frm",
        "performance_schema/events_waits_summary_by_account_by_event_name.frm",
        "performance_schema/events_waits_summary_by_host_by_event_name.frm",
        "performance_schema/events_waits_summary_by_instance.frm",
        "performance_schema/events_waits_summary_by_thread_by_event_name.frm",
        "performance_schema/events_waits_summary_by_user_by_event_name.frm",
        "performance_schema/events_waits_summary_global_by_event_name.frm",
        "performance_schema/file_instances.frm",
        "performance_schema/file_summary_by_event_name.frm",
        "performance_schema/file_summary_by_instance.frm",
        "performance_schema/global_status.frm",
        "performance_schema/global_variables.frm",
        "performance_schema/host_cache.frm",
        "performance_schema/hosts.frm",
        "performance_schema/memory_summary_by_account_by_event_name.frm",
        "performance_schema/memory_summary_by_host_by_event_name.frm",
        "performance_schema/memory_summary_by_thread_by_event_name.frm",
        "performance_schema/memory_summary_by_user_by_event_name.frm",
        "performance_schema/memory_summary_global_by_event_name.frm",
        "performance_schema/metadata_locks.frm",
        "performance_schema/mutex_instances.frm",
        "performance_schema/objects_summary_global_by_type.frm",
        "performance_schema/performance_timers.frm",
        "performance_schema/prepared_statements_instances.frm",
        "performance_schema/replication_applier_configuration.frm",
        "performance_schema/replication_applier_status.frm",
        "performance_schema/replication_applier_status_by_coordinator.frm",
        "performance_schema/replication_applier_status_by_worker.frm",
        "performance_schema/replication_connection_configuration.frm",
        "performance_schema/replication_connection_status.frm",
        "performance_schema/replication_group_member_stats.frm",
        "performance_schema/replication_group_members.frm",
        "performance_schema/rwlock_instances.frm",
        "performance_schema/session_account_connect_attrs.frm",
        "performance_schema/session_connect_attrs.frm",
        "performance_schema/session_status.frm",
        "performance_schema/session_variables.frm",
        "performance_schema/setup_actors.frm",
        "performance_schema/setup_consumers.frm",
        "performance_schema/setup_instruments.frm",
        "performance_schema/setup_objects.frm",
        "performance_schema/setup_timers.frm",
        "performance_schema/socket_instances.frm",
        "performance_schema/socket_summary_by_event_name.frm",
        "performance_schema/socket_summary_by_instance.frm",
        "performance_schema/status_by_account.frm",
        "performance_schema/status_by_host.frm",
        "performance_schema/status_by_thread.frm",
        "performance_schema/status_by_user.frm",
        "performance_schema/table_handles.frm",
        "performance_schema/table_io_waits_summary_by_index_usage.frm",
        "performance_schema/table_io_waits_summary_by_table.frm",
        "performance_schema/table_lock_waits_summary_by_table.frm",
        "performance_schema/threads.frm",
        "performance_schema/user_variables_by_thread.frm",
        "performance_schema/users.frm",
        "performance_schema/variables_by_thread.frm",
        "sys/",
        "sys/db.opt",
        "sys/host_summary.frm",
        "sys/host_summary_by_file_io.frm",
        "sys/host_summary_by_file_io_type.frm",
        "sys/host_summary_by_stages.frm",
        "sys/host_summary_by_statement_latency.frm",
        "sys/host_summary_by_statement_type.frm",
        "sys/innodb_buffer_stats_by_schema.frm",
        "sys/innodb_buffer_stats_by_table.frm",
        "sys/innodb_lock_waits.frm",
        "sys/io_by_thread_by_latency.frm",
        "sys/io_global_by_file_by_bytes.frm",
        "sys/io_global_by_file_by_latency.frm",
        "sys/io_global_by_wait_by_bytes.frm",
        "sys/io_global_by_wait_by_latency.frm",
        "sys/latest_file_io.frm",
        "sys/memory_by_host_by_current_bytes.frm",
        "sys/memory_by_thread_by_current_bytes.frm",
        "sys/memory_by_user_by_current_bytes.frm",
        "sys/memory_global_by_current_bytes.frm",
        "sys/memory_global_total.frm",
        "sys/metrics.frm",
        "sys/processlist.frm",
        "sys/ps_check_lost_instrumentation.frm",
        "sys/schema_auto_increment_columns.frm",
        "sys/schema_index_statistics.frm",
        "sys/schema_object_overview.frm",
        "sys/schema_redundant_indexes.frm",
        "sys/schema_table_lock_waits.frm",
        "sys/schema_table_statistics.frm",
        "sys/schema_table_statistics_with_buffer.frm",
        "sys/schema_tables_with_full_table_scans.frm",
        "sys/schema_unused_indexes.frm",
        "sys/session.frm",
        "sys/session_ssl_status.frm",
        "sys/statement_analysis.frm",
        "sys/statements_with_errors_or_warnings.frm",
        "sys/statements_with_full_table_scans.frm",
        "sys/statements_with_runtimes_in_95th_percentile.frm",
        "sys/statements_with_sorting.frm",
        "sys/statements_with_temp_tables.frm",
        "sys/sys_config.TRG",
        "sys/sys_config.frm",
        "sys/sys_config.ibd",
        "sys/sys_config_insert_set_user.TRN",
        "sys/sys_config_update_set_user.TRN",
        "sys/user_summary.frm",
        "sys/user_summary_by_file_io.frm",
        "sys/user_summary_by_file_io_type.frm",
        "sys/user_summary_by_stages.frm",
        "sys/user_summary_by_statement_latency.frm",
        "sys/user_summary_by_statement_type.frm",
        "sys/version.frm",
        "sys/wait_classes_global_by_avg_latency.frm",
        "sys/wait_classes_global_by_latency.frm",
        "sys/waits_by_host_by_latency.frm",
        "sys/waits_by_user_by_latency.frm",
        "sys/waits_global_by_latency.frm",
        "sys/x@0024host_summary.frm",
        "sys/x@0024host_summary_by_file_io.frm",
        "sys/x@0024host_summary_by_file_io_type.frm",
        "sys/x@0024host_summary_by_stages.frm",
        "sys/x@0024host_summary_by_statement_latency.frm",
        "sys/x@0024host_summary_by_statement_type.frm",
        "sys/x@0024innodb_buffer_stats_by_schema.frm",
        "sys/x@0024innodb_buffer_stats_by_table.frm",
        "sys/x@0024innodb_lock_waits.frm",
        "sys/x@0024io_by_thread_by_latency.frm",
        "sys/x@0024io_global_by_file_by_bytes.frm",
        "sys/x@0024io_global_by_file_by_latency.frm",
        "sys/x@0024io_global_by_wait_by_bytes.frm",
        "sys/x@0024io_global_by_wait_by_latency.frm",
        "sys/x@0024latest_file_io.frm",
        "sys/x@0024memory_by_host_by_current_bytes.frm",
        "sys/x@0024memory_by_thread_by_current_bytes.frm",
        "sys/x@0024memory_by_user_by_current_bytes.frm",
        "sys/x@0024memory_global_by_current_bytes.frm",
        "sys/x@0024memory_global_total.frm",
        "sys/x@0024processlist.frm",
        "sys/x@0024ps_digest_95th_percentile_by_avg_us.frm",
        "sys/x@0024ps_digest_avg_latency_distribution.frm",
        "sys/x@0024ps_schema_table_statistics_io.frm",
        "sys/x@0024schema_flattened_keys.frm",
        "sys/x@0024schema_index_statistics.frm",
        "sys/x@0024schema_table_lock_waits.frm",
        "sys/x@0024schema_table_statistics.frm",
        "sys/x@0024schema_table_statistics_with_buffer.frm",
        "sys/x@0024schema_tables_with_full_table_scans.frm",
        "sys/x@0024session.frm",
        "sys/x@0024statement_analysis.frm",
        "sys/x@0024statements_with_errors_or_warnings.frm",
        "sys/x@0024statements_with_full_table_scans.frm",
        "sys/x@0024statements_with_runtimes_in_95th_percentile.frm",
        "sys/x@0024statements_with_sorting.frm",
        "sys/x@0024statements_with_temp_tables.frm",
        "sys/x@0024user_summary.frm",
        "sys/x@0024user_summary_by_file_io.frm",
        "sys/x@0024user_summary_by_file_io_type.frm",
        "sys/x@0024user_summary_by_stages.frm",
        "sys/x@0024user_summary_by_statement_latency.frm",
        "sys/x@0024user_summary_by_statement_type.frm",
        "sys/x@0024wait_classes_global_by_avg_latency.frm",
        "sys/x@0024wait_classes_global_by_latency.frm",
        "sys/x@0024waits_by_host_by_latency.frm",
        "sys/x@0024waits_by_user_by_latency.frm",
        "sys/x@0024waits_global_by_latency.frm",
        "",
        "sent 126,633,378 bytes  received 5,463 bytes  84,425,894.00 bytes/sec",
        "total size is 126,581,139  speedup is 1.00"
    ]
}
2019-03-10 18:40:51,305 p=38007 u=michael |  META: ran handlers
2019-03-10 18:40:51,305 p=38007 u=michael |  META: ran handlers
2019-03-10 18:40:51,307 p=38007 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:40:51,307 p=38007 u=michael |  192.168.3.43               : ok=2    changed=1    unreachable=0    failed=0   
2019-03-10 18:43:46,527 p=38150 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:43:46,543 p=38150 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **************************************************************************************************************************************************************************************************************************
2019-03-10 18:44:06,947 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:44:06,954 p=38150 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] ***********************************************************************************************************************************************************************************************************************
2019-03-10 18:44:07,743 p=38150 u=michael |  ok: [192.168.3.43]
2019-03-10 18:44:07,750 p=38150 u=michael |  TASK [mysql_master_remove : Delete previous data] ***********************************************************************************************************************************************************************************************************************
2019-03-10 18:44:08,937 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:44:08,945 p=38150 u=michael |  TASK [mysql_master_remove : Delete default data] ************************************************************************************************************************************************************************************************************************
2019-03-10 18:44:11,305 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:44:11,313 p=38150 u=michael |  TASK [mysql_master_remove : Delete default log] *************************************************************************************************************************************************************************************************************************
2019-03-10 18:44:13,104 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:44:13,113 p=38150 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:44:13,152 p=38150 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:44:13,159 p=38150 u=michael |  TASK [mysql_master : Install mysql repo from url] ***********************************************************************************************************************************************************************************************************************
2019-03-10 18:44:18,044 p=38150 u=michael |  ok: [192.168.3.43]
2019-03-10 18:44:18,051 p=38150 u=michael |  TASK [mysql_master : Install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 18:46:09,368 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:46:09,376 p=38150 u=michael |  TASK [mysql_master : Debug install_mysql57] *****************************************************************************************************************************************************************************************************************************
2019-03-10 18:46:09,417 p=38150 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": true,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                   Arch      Version         Repository            Size\n================================================================================\nInstalling:\n mysql-community-server    x86_64    5.7.25-1.el7    mysql57-community    165 M\nInstalling for dependencies:\n mysql-community-client    x86_64    5.7.25-1.el7    mysql57-community     24 M\n mysql-community-common    x86_64    5.7.25-1.el7    mysql57-community    274 k\n mysql-community-libs      x86_64    5.7.25-1.el7    mysql57-community    2.2 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+3 Dependent packages)\n\nTotal download size: 192 M\nInstalled size: 863 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                              3.9 MB/s | 192 MB  00:48     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Installing : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Installing : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Installing : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nInstalled:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nDependency Installed:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n\nComplete!\n"
        ]
    }
}
2019-03-10 18:46:09,425 p=38150 u=michael |  TASK [mysql_master : Start the MySQL service] ***************************************************************************************************************************************************************************************************************************
2019-03-10 18:46:46,102 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:46:46,111 p=38150 u=michael |  TASK [mysql_master : Change mysql root password and track in] ***********************************************************************************************************************************************************************************************************
2019-03-10 18:46:48,295 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:46:48,297 p=38150 u=michael |  RUNNING HANDLER [mysql_master : restart mysqld] *************************************************************************************************************************************************************************************************************************
2019-03-10 18:46:57,763 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:46:57,770 p=38150 u=michael |  TASK [mysql_master : debug] *********************************************************************************************************************************************************************************************************************************************
2019-03-10 18:46:57,811 p=38150 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": true,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*';flush privileges;\"\n echo \"[client] user=root password='Home123*'\" > /root/.my.cnf",
        "delta": "0:00:00.016384",
        "end": "2019-03-10 18:46:48.114575",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 18:46:48.098191",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure."
        ],
        "stdout": ":rywgO?dg2ed",
        "stdout_lines": [
            ":rywgO?dg2ed"
        ]
    }
}
2019-03-10 18:46:57,818 p=38150 u=michael |  TASK [mysql_master : Add remote user] ***********************************************************************************************************************************************************************************************************************************
2019-03-10 18:47:09,904 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:47:09,911 p=38150 u=michael |  TASK [mysql_master : Debug add_new_user] ********************************************************************************************************************************************************************************************************************************
2019-03-10 18:47:09,980 p=38150 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": true,
        "cmd": "export MYSQL_PWD=\"Home123*\"\n mysql -uroot -e \"CREATE USER   'cicd'@'%' identified by 'Home123*'; GRANT ALL PRIVILEGES ON *.* TO 'cicd'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges;\"\n echo \"new_user=cicd new_user_password=Home123*\" > /root/.my.new.cnf",
        "delta": "0:00:00.022763",
        "end": "2019-03-10 18:47:09.727610",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 18:47:09.704847",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2019-03-10 18:47:09,986 p=38150 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *****************************************************************************************************************************************************************************************************************************
2019-03-10 18:47:16,227 p=38150 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 18:47:17,666 p=38150 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 18:47:17,675 p=38150 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 18:47:19,501 p=38150 u=michael |  changed: [192.168.3.43]
2019-03-10 18:47:19,509 p=38150 u=michael |  TASK [mysql_master : service] *******************************************************************************************************************************************************************************************************************************************
2019-03-10 18:47:28,291 p=38150 u=michael |  fatal: [192.168.3.43]: FAILED! => {"changed": false, "msg": "value of state must be one of: reloaded, restarted, started, stopped, got: stop"}
2019-03-10 18:47:28,293 p=38150 u=michael |  	to retry, use: --limit @/Users/michael/Code/05-Github-Own/ansible-learn/ansible-own/mysql-install/site.retry

2019-03-10 18:47:28,293 p=38150 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:47:28,293 p=38150 u=michael |  192.168.3.43               : ok=17   changed=11   unreachable=0    failed=1   
2019-03-10 18:57:12,012 p=38649 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 18:57:12,024 p=38649 u=michael |  TASK [mysql_master_remove : Remove Mysql RPMS] **************************************************************************************************************************************************************************************************************************
2019-03-10 18:57:29,829 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 18:57:29,836 p=38649 u=michael |  TASK [mysql_master_remove : Remove /root/.my.cnf] ***********************************************************************************************************************************************************************************************************************
2019-03-10 18:57:31,402 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 18:57:31,409 p=38649 u=michael |  TASK [mysql_master_remove : Delete previous data] ***********************************************************************************************************************************************************************************************************************
2019-03-10 18:57:32,821 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 18:57:32,829 p=38649 u=michael |  TASK [mysql_master_remove : Delete default data] ************************************************************************************************************************************************************************************************************************
2019-03-10 18:57:34,222 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 18:57:34,229 p=38649 u=michael |  TASK [mysql_master_remove : Delete default log] *************************************************************************************************************************************************************************************************************************
2019-03-10 18:57:37,772 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 18:57:37,780 p=38649 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 18:57:37,821 p=38649 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 18:57:37,828 p=38649 u=michael |  TASK [mysql_master : Install mysql repo from url] ***********************************************************************************************************************************************************************************************************************
2019-03-10 18:57:45,742 p=38649 u=michael |  ok: [192.168.3.43]
2019-03-10 18:57:45,749 p=38649 u=michael |  TASK [mysql_master : Install mysql57-community] *************************************************************************************************************************************************************************************************************************
2019-03-10 18:59:36,967 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 18:59:36,974 p=38649 u=michael |  TASK [mysql_master : Debug install_mysql57] *****************************************************************************************************************************************************************************************************************************
2019-03-10 18:59:37,016 p=38649 u=michael |  ok: [192.168.3.43] => {
    "install_mysql57": {
        "changed": true,
        "failed": false,
        "msg": "",
        "rc": 0,
        "results": [
            "Loaded plugins: fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-server.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-common(x86-64) = 5.7.25-1.el7 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.25-1.el7.x86_64\n--> Running transaction check\n---> Package mysql-community-client.x86_64 0:5.7.25-1.el7 will be installed\n--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.25-1.el7.x86_64\n---> Package mysql-community-common.x86_64 0:5.7.25-1.el7 will be installed\n--> Running transaction check\n---> Package mysql-community-libs.x86_64 0:5.7.25-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                   Arch      Version         Repository            Size\n================================================================================\nInstalling:\n mysql-community-server    x86_64    5.7.25-1.el7    mysql57-community    165 M\nInstalling for dependencies:\n mysql-community-client    x86_64    5.7.25-1.el7    mysql57-community     24 M\n mysql-community-common    x86_64    5.7.25-1.el7    mysql57-community    274 k\n mysql-community-libs      x86_64    5.7.25-1.el7    mysql57-community    2.2 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+3 Dependent packages)\n\nTotal download size: 192 M\nInstalled size: 863 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                              3.5 MB/s | 192 MB  00:55     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Installing : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Installing : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Installing : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n  Verifying  : mysql-community-common-5.7.25-1.el7.x86_64                   1/4 \n  Verifying  : mysql-community-libs-5.7.25-1.el7.x86_64                     2/4 \n  Verifying  : mysql-community-client-5.7.25-1.el7.x86_64                   3/4 \n  Verifying  : mysql-community-server-5.7.25-1.el7.x86_64                   4/4 \n\nInstalled:\n  mysql-community-server.x86_64 0:5.7.25-1.el7                                  \n\nDependency Installed:\n  mysql-community-client.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-common.x86_64 0:5.7.25-1.el7                                  \n  mysql-community-libs.x86_64 0:5.7.25-1.el7                                    \n\nComplete!\n"
        ]
    }
}
2019-03-10 18:59:37,023 p=38649 u=michael |  TASK [mysql_master : Start the MySQL service] ***************************************************************************************************************************************************************************************************************************
2019-03-10 19:00:55,351 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:00:55,365 p=38649 u=michael |  TASK [mysql_master : Change mysql root password and track in] ***********************************************************************************************************************************************************************************************************
2019-03-10 19:00:58,872 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:00:58,875 p=38649 u=michael |  RUNNING HANDLER [mysql_master : restart mysqld] *************************************************************************************************************************************************************************************************************************
2019-03-10 19:01:16,068 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:01:16,075 p=38649 u=michael |  TASK [mysql_master : debug] *********************************************************************************************************************************************************************************************************************************************
2019-03-10 19:01:16,143 p=38649 u=michael |  ok: [192.168.3.43] => {
    "change_temp_pass": {
        "changed": true,
        "cmd": "password_match=`awk '/A temporary password is generated for/ {a=$0} END{ print a }' /var/log/mysqld.log | awk '{print $(NF)}'`\n echo $password_match\n mysql -uroot -p$password_match --connect-expired-password -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Home123*';flush privileges;\"\n echo \"[client] user=root password='Home123*'\" > /root/.my.cnf",
        "delta": "0:00:00.021543",
        "end": "2019-03-10 19:00:58.622611",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 19:00:58.601068",
        "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.",
        "stderr_lines": [
            "mysql: [Warning] Using a password on the command line interface can be insecure."
        ],
        "stdout": "Ll-Q9F4ctskQ",
        "stdout_lines": [
            "Ll-Q9F4ctskQ"
        ]
    }
}
2019-03-10 19:01:16,150 p=38649 u=michael |  TASK [mysql_master : Add remote user] ***********************************************************************************************************************************************************************************************************************************
2019-03-10 19:01:18,499 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:01:18,506 p=38649 u=michael |  TASK [mysql_master : Debug add_new_user] ********************************************************************************************************************************************************************************************************************************
2019-03-10 19:01:18,574 p=38649 u=michael |  ok: [192.168.3.43] => {
    "add_new_user": {
        "changed": true,
        "cmd": "export MYSQL_PWD=\"Home123*\"\n mysql -uroot -e \"CREATE USER   'cicd'@'%' identified by 'Home123*'; GRANT ALL PRIVILEGES ON *.* TO 'cicd'@'%' IDENTIFIED BY 'Home123*' WITH GRANT OPTION; flush privileges;\"\n echo \"new_user=cicd new_user_password=Home123*\" > /root/.my.new.cnf",
        "delta": "0:00:00.021731",
        "end": "2019-03-10 19:01:18.259725",
        "failed": false,
        "rc": 0,
        "start": "2019-03-10 19:01:18.237994",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2019-03-10 19:01:18,581 p=38649 u=michael |  TASK [mysql_master : Create Mysql Data Dir] *****************************************************************************************************************************************************************************************************************************
2019-03-10 19:01:20,310 p=38649 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/data)
2019-03-10 19:01:32,613 p=38649 u=michael |  changed: [192.168.3.43] => (item=/data/mysql/log)
2019-03-10 19:01:32,622 p=38649 u=michael |  TASK [mysql_master : service] *******************************************************************************************************************************************************************************************************************************************
2019-03-10 19:02:01,559 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:02:01,567 p=38649 u=michael |  TASK [mysql_master : Copy old mysql data] *******************************************************************************************************************************************************************************************************************************
2019-03-10 19:02:06,631 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:02:06,640 p=38649 u=michael |  TASK [mysql_master : Create Mysql configuration file] *******************************************************************************************************************************************************************************************************************
2019-03-10 19:02:15,545 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:02:15,547 p=38649 u=michael |  RUNNING HANDLER [mysql_master : restart mysqld] *************************************************************************************************************************************************************************************************************************
2019-03-10 19:02:23,869 p=38649 u=michael |  changed: [192.168.3.43]
2019-03-10 19:02:23,872 p=38649 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 19:02:23,872 p=38649 u=michael |  192.168.3.43               : ok=20   changed=15   unreachable=0    failed=0   
2019-03-10 21:09:10,200 p=42192 u=michael |  playbook: site.yml
2019-03-10 21:09:10,201 p=42192 u=michael |    play #1 (mysql_master): mysql_master	TAGS: []
2019-03-10 21:09:10,203 p=42192 u=michael |      tasks:
      mysql_master : Debug vars	TAGS: []
      mysql_master : test service stop	TAGS: []

2019-03-10 21:09:19,827 p=42221 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 21:09:19,843 p=42221 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 21:09:19,886 p=42221 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 21:09:19,894 p=42221 u=michael |  TASK [mysql_master : test service stop] *********************************************************************************************************************************************************************************************************************************
2019-03-10 21:09:27,933 p=42221 u=michael |  changed: [192.168.3.43]
2019-03-10 21:09:27,935 p=42221 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 21:09:27,935 p=42221 u=michael |  192.168.3.43               : ok=2    changed=1    unreachable=0    failed=0   
2019-03-10 21:09:48,917 p=42284 u=michael |  PLAY [mysql_master] *****************************************************************************************************************************************************************************************************************************************************
2019-03-10 21:09:48,929 p=42284 u=michael |  TASK [mysql_master : Debug vars] ****************************************************************************************************************************************************************************************************************************************
2019-03-10 21:09:48,968 p=42284 u=michael |  ok: [192.168.3.43] => {
    "msg": "Author:MichelXiang"
}
2019-03-10 21:09:48,976 p=42284 u=michael |  TASK [mysql_master : test service stop] *********************************************************************************************************************************************************************************************************************************
2019-03-10 21:10:13,331 p=42284 u=michael |  changed: [192.168.3.43]
2019-03-10 21:10:13,333 p=42284 u=michael |  PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************
2019-03-10 21:10:13,333 p=42284 u=michael |  192.168.3.43               : ok=2    changed=1    unreachable=0    failed=0   
